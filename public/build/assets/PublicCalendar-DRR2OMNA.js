import{r as m,j as t,H as k}from"./app--rPLb1Wa.js";import{F as P,i as F,a as S}from"./index-BnMNmpJ0.js";/* empty css            */function R({scripts:u}){const[h]=m.useState(u),[p,b]=m.useState(null),g=u.filter(e=>e.scheduled_at).map(e=>({id:String(e.id),title:e.title,start:e.scheduled_at,allDay:!1,editable:!1,extendedProps:{status:e.status,script_type:e.script_type,production_status:e.production_status}})),d=(()=>{if(!p)return{planned:0,published:0,shot:0,ready:0,longForm:0,shorts:0};const{start:e,end:r}=p,o=new Date(e.getTime()+(r.getTime()-e.getTime())/2),n=o.getFullYear(),a=o.getMonth(),i=new Date(n,a,1),c=new Date(n,a+1,0,23,59,59,999),l=h.filter(s=>{if(!s.scheduled_at)return!1;const x=new Date(s.scheduled_at);return x>=i&&x<=c}),y=l.length,j=l.filter(s=>s.status==="published").length,v=l.filter(s=>s.production_status&&["shot","editing","edited"].includes(s.production_status)&&s.status!=="published").length,_=l.filter(s=>s.production_status==="edited"&&s.status!=="published").length,w=l.filter(s=>s.script_type==="Long Form").length,N=l.filter(s=>s.script_type==="Shorts").length;return{planned:y,published:j,shot:v,ready:_,longForm:w,shorts:N}})(),f=(e,r)=>e==="published"?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300":!r||r==="not_shot"?"bg-muted text-muted-foreground":r==="shot"||r==="editing"?"bg-muted text-muted-foreground border-b border-yellow-400":r==="edited"?"bg-muted text-muted-foreground border-b border-emerald-500":"bg-muted text-muted-foreground";return t.jsxs("div",{className:"bg-background min-h-svh px-4 py-6 sm:px-6 md:px-10",children:[t.jsx(k,{title:"Production Publishing calendar"}),t.jsxs("div",{className:"mx-auto flex w-full max-w-5xl flex-col gap-4",children:[t.jsxs("header",{className:"flex flex-col gap-1 text-center",children:[t.jsx("h1",{className:"text-2xl font-semibold tracking-tight md:text-3xl",children:"Production Publishing calendar"}),t.jsx("p",{className:"text-muted-foreground text-sm md:text-base",children:"Read-only view of upcoming and past scripts."})]}),t.jsx("div",{className:"rounded-xl border bg-card p-4 shadow-sm",children:t.jsx("div",{className:"script-calendar",children:t.jsx(P,{plugins:[F,S],initialView:"dayGridMonth",editable:!1,droppable:!1,events:g,height:"auto",dayMaxEvents:!0,displayEventTime:!1,datesSet:e=>b({start:e.start,end:e.end}),eventContent:e=>{const r=e.event.extendedProps.status,o=e.event.extendedProps.production_status,n=e.event.extendedProps.script_type,a=f(r??"",o),i=n==="Shorts"?"Shorts":n==="Long Form"?"Long":n??null,c=n==="Shorts"?"border-l-2 border-l-blue-500":n==="Long Form"?"border-l-2 border-l-pink-500":"";return t.jsxs("div",{className:`fc-script-event-title ${a} ${c}`,children:[t.jsx("span",{children:e.event.title}),i&&t.jsxs("span",{className:"ml-1 opacity-80 text-[10px]",children:["Â· ",i]})]})}})})}),t.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 text-sm",children:[t.jsxs("span",{className:"inline-block rounded px-2 py-0.5 text-xs font-medium bg-muted text-muted-foreground",children:["Planned: ",d.planned]}),t.jsxs("span",{className:"inline-block rounded px-2 py-0.5 text-xs font-medium bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300",children:["Published: ",d.published]}),t.jsxs("span",{className:"inline-block rounded px-2 py-0.5 text-xs font-medium bg-muted text-muted-foreground border-b-2 border-yellow-400",children:["Shot: ",d.shot]}),t.jsxs("span",{className:"inline-block rounded px-2 py-0.5 text-xs font-medium bg-muted text-muted-foreground border-b-2 border-emerald-500",children:["Ready: ",d.ready]}),t.jsxs("span",{className:"inline-block rounded px-2 py-0.5 text-xs font-medium text-muted-foreground border-l-2 border-pink-500 pl-2",children:["Long Form: ",d.longForm]}),t.jsxs("span",{className:"inline-block rounded px-2 py-0.5 text-xs font-medium text-muted-foreground border-l-2 border-blue-500 pl-2",children:["Shorts: ",d.shorts]})]}),t.jsx("style",{children:`
                    .script-calendar .fc-daygrid-event {
                        white-space: normal;
                    }
                    .script-calendar .fc-script-event-title {
                        white-space: normal;
                        font-size: 0.75rem;
                        line-height: 1rem;
                        display: inline-block;
                        padding: 2px 4px;
                        border-radius: 4px;
                    }
                `})]})]})}export{R as default};
