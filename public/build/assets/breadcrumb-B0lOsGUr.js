import{r as d,j as t,u as X,L as te,c as ut,a as O}from"./app-AYk_vs9E.js";import{c as v}from"./utils-DawFQoOT.js";import{u as Te,B as T,S as oe,c as ft,a as mt}from"./button-DttS-hSO.js";import"./input-KN5y_tmq.js";import{S as Me,a as Ee,b as Ae,c as Re,d as De,e as pt}from"./sheet-BQ7ZHeJH.js";import{u as ht,P as xt,c as D,a as gt,b as re}from"./index-C6YWzjxw.js";import{D as bt}from"./index-BS1oCJ0R.js";import{u as vt}from"./index-DVPqwmDN.js";import{R as jt,A as wt,a as yt,c as Ie,C as St}from"./index-KBPR2gxA.js";import{P as Nt}from"./index-DB97fau_.js";import{P as Le}from"./index-JB8FLK9q.js";import{R as kt}from"./index-g_lpINMr.js";import{c as C}from"./createLucideIcon-B8-QgQ2g.js";import{e as Pe,d as U,f as Ct,c as q,D as Oe,a as ze,b as $e}from"./dropdown-menu-C44z3VEl.js";import{u as _t}from"./index-DH27nmtP.js";import{F as Be}from"./file-text-DJz8nwxt.js";import{U as Tt}from"./users-DqaIzH7r.js";import{P as Mt,L as Et}from"./package-famJlHsI.js";import{W as At}from"./wallet-1YY19SXz.js";import{C as Rt}from"./chevron-down-DjDlq31K.js";import{S as I}from"./skeleton-C1cSm2kL.js";import{u as He}from"./use-effective-tenant-it7FmrhR.js";import{u as Dt}from"./use-tenant-router-yHxY6vf2.js";import{C as It}from"./check-o4IyhQhV.js";import{T as Lt}from"./trash-2-CBlWZpKk.js";import{t as k,c as Pt,e as Ot,g as me,m as pe,a as H,b as zt}from"./en-US-DSSwd-Ay.js";import{e as $t,d as Bt}from"./endOfMonth-BNqLjwTF.js";import{U as Ht}from"./user-C3DA-HUB.js";import{D as Ft}from"./dollar-sign-CtwrfOoy.js";import{C as Ut}from"./credit-card-BBEokihX.js";import{M as qt}from"./mail-DQFl-2hO.js";import{S as Xt}from"./shield-SUW6F_AQ.js";import{C as Gt}from"./circle-alert-DSmqB_aB.js";import{B as Vt}from"./building-2-ClZdYFLS.js";import{C as Kt}from"./chevron-right-BFzkFd6A.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Yt=C("Activity",Wt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Fe=C("Bell",Zt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Qt=C("ChevronsUpDown",Jt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Y=C("Circle",er);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],Z=C("Handshake",tr);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],nr=C("LogOut",rr);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],sr=C("PanelLeft",ar);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],ir=C("PenTool",or);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],cr=C("ScrollText",lr);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ue=C("Settings",dr);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],fr=C("ShoppingBag",ur);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mr=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],qe=C("Ticket",mr);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pr=[["path",{d:"M2 21a8 8 0 0 1 10.434-7.62",key:"1yezr2"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["path",{d:"m19.5 14.3-.4.9",key:"1eb35c"}],["path",{d:"m16.9 20.8-.4.9",key:"dfjc4z"}],["path",{d:"m21.7 19.5-.9-.4",key:"q4dx6b"}],["path",{d:"m15.2 16.9-.9-.4",key:"1r0w5f"}],["path",{d:"m21.7 16.5-.9.4",key:"1knoei"}],["path",{d:"m15.2 19.1-.9.4",key:"j188fs"}],["path",{d:"m19.5 21.7-.4-.9",key:"1tonu5"}],["path",{d:"m16.9 15.2-.4-.9",key:"699xu"}]],hr=C("UserRoundCog",pr),J=768;function Xe(){const[e,r]=d.useState(void 0);return d.useEffect(()=>{const n=window.matchMedia(`(max-width: ${J-1}px)`),s=()=>{r(window.innerWidth<J)};return n.addEventListener("change",s),r(window.innerWidth<J),()=>n.removeEventListener("change",s)},[]),!!e}var xr=Symbol("radix.slottable");function gr(e){const r=({children:n})=>t.jsx(t.Fragment,{children:n});return r.displayName=`${e}.Slottable`,r.__radixId=xr,r}var[G]=gt("Tooltip",[Ie]),V=Ie(),Ge="TooltipProvider",br=700,ne="tooltip.open",[vr,ie]=G(Ge),Ve=e=>{const{__scopeTooltip:r,delayDuration:n=br,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:o}=e,c=d.useRef(!0),i=d.useRef(!1),l=d.useRef(0);return d.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),t.jsx(vr,{scope:r,isOpenDelayedRef:c,delayDuration:n,onOpen:d.useCallback(()=>{window.clearTimeout(l.current),c.current=!1},[]),onClose:d.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>c.current=!0,s)},[s]),isPointerInTransitRef:i,onPointerInTransitChange:d.useCallback(u=>{i.current=u},[]),disableHoverableContent:a,children:o})};Ve.displayName=Ge;var z="Tooltip",[jr,B]=G(z),Ke=e=>{const{__scopeTooltip:r,children:n,open:s,defaultOpen:a,onOpenChange:o,disableHoverableContent:c,delayDuration:i}=e,l=ie(z,e.__scopeTooltip),u=V(r),[h,m]=d.useState(null),f=vt(),x=d.useRef(0),p=c??l.disableHoverableContent,b=i??l.delayDuration,w=d.useRef(!1),[j,g]=ht({prop:s,defaultProp:a??!1,onChange:P=>{P?(l.onOpen(),document.dispatchEvent(new CustomEvent(ne))):l.onClose(),o==null||o(P)},caller:z}),y=d.useMemo(()=>j?w.current?"delayed-open":"instant-open":"closed",[j]),_=d.useCallback(()=>{window.clearTimeout(x.current),x.current=0,w.current=!1,g(!0)},[g]),S=d.useCallback(()=>{window.clearTimeout(x.current),x.current=0,g(!1)},[g]),N=d.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{w.current=!0,g(!0),x.current=0},b)},[b,g]);return d.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),t.jsx(jt,{...u,children:t.jsx(jr,{scope:r,contentId:f,open:j,stateAttribute:y,trigger:h,onTriggerChange:m,onTriggerEnter:d.useCallback(()=>{l.isOpenDelayedRef.current?N():_()},[l.isOpenDelayedRef,N,_]),onTriggerLeave:d.useCallback(()=>{p?S():(window.clearTimeout(x.current),x.current=0)},[S,p]),onOpen:_,onClose:S,disableHoverableContent:p,children:n})})};Ke.displayName=z;var ae="TooltipTrigger",We=d.forwardRef((e,r)=>{const{__scopeTooltip:n,...s}=e,a=B(ae,n),o=ie(ae,n),c=V(n),i=d.useRef(null),l=Te(r,i,a.onTriggerChange),u=d.useRef(!1),h=d.useRef(!1),m=d.useCallback(()=>u.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),t.jsx(wt,{asChild:!0,...c,children:t.jsx(xt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:l,onPointerMove:D(e.onPointerMove,f=>{f.pointerType!=="touch"&&!h.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),h.current=!0)}),onPointerLeave:D(e.onPointerLeave,()=>{a.onTriggerLeave(),h.current=!1}),onPointerDown:D(e.onPointerDown,()=>{a.open&&a.onClose(),u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:D(e.onFocus,()=>{u.current||a.onOpen()}),onBlur:D(e.onBlur,a.onClose),onClick:D(e.onClick,a.onClose)})})});We.displayName=ae;var le="TooltipPortal",[wr,yr]=G(le,{forceMount:void 0}),Ye=e=>{const{__scopeTooltip:r,forceMount:n,children:s,container:a}=e,o=B(le,r);return t.jsx(wr,{scope:r,forceMount:n,children:t.jsx(Le,{present:n||o.open,children:t.jsx(Nt,{asChild:!0,container:a,children:s})})})};Ye.displayName=le;var L="TooltipContent",Ze=d.forwardRef((e,r)=>{const n=yr(L,e.__scopeTooltip),{forceMount:s=n.forceMount,side:a="top",...o}=e,c=B(L,e.__scopeTooltip);return t.jsx(Le,{present:s||c.open,children:c.disableHoverableContent?t.jsx(Je,{side:a,...o,ref:r}):t.jsx(Sr,{side:a,...o,ref:r})})}),Sr=d.forwardRef((e,r)=>{const n=B(L,e.__scopeTooltip),s=ie(L,e.__scopeTooltip),a=d.useRef(null),o=Te(r,a),[c,i]=d.useState(null),{trigger:l,onClose:u}=n,h=a.current,{onPointerInTransitChange:m}=s,f=d.useCallback(()=>{i(null),m(!1)},[m]),x=d.useCallback((p,b)=>{const w=p.currentTarget,j={x:p.clientX,y:p.clientY},g=_r(j,w.getBoundingClientRect()),y=Tr(j,g),_=Mr(b.getBoundingClientRect()),S=Ar([...y,..._]);i(S),m(!0)},[m]);return d.useEffect(()=>()=>f(),[f]),d.useEffect(()=>{if(l&&h){const p=w=>x(w,h),b=w=>x(w,l);return l.addEventListener("pointerleave",p),h.addEventListener("pointerleave",b),()=>{l.removeEventListener("pointerleave",p),h.removeEventListener("pointerleave",b)}}},[l,h,x,f]),d.useEffect(()=>{if(c){const p=b=>{const w=b.target,j={x:b.clientX,y:b.clientY},g=(l==null?void 0:l.contains(w))||(h==null?void 0:h.contains(w)),y=!Er(j,c);g?f():y&&(f(),u())};return document.addEventListener("pointermove",p),()=>document.removeEventListener("pointermove",p)}},[l,h,c,u,f]),t.jsx(Je,{...e,ref:o})}),[Nr,kr]=G(z,{isInside:!1}),Cr=gr("TooltipContent"),Je=d.forwardRef((e,r)=>{const{__scopeTooltip:n,children:s,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:c,...i}=e,l=B(L,n),u=V(n),{onClose:h}=l;return d.useEffect(()=>(document.addEventListener(ne,h),()=>document.removeEventListener(ne,h)),[h]),d.useEffect(()=>{if(l.trigger){const m=f=>{const x=f.target;x!=null&&x.contains(l.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[l.trigger,h]),t.jsx(bt,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:t.jsxs(St,{"data-state":l.stateAttribute,...u,...i,ref:r,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[t.jsx(Cr,{children:s}),t.jsx(Nr,{scope:n,isInside:!0,children:t.jsx(kt,{id:l.contentId,role:"tooltip",children:a||s})})]})})});Ze.displayName=L;var Qe="TooltipArrow",et=d.forwardRef((e,r)=>{const{__scopeTooltip:n,...s}=e,a=V(n);return kr(Qe,n).isInside?null:t.jsx(yt,{...a,...s,ref:r})});et.displayName=Qe;function _r(e,r){const n=Math.abs(r.top-e.y),s=Math.abs(r.bottom-e.y),a=Math.abs(r.right-e.x),o=Math.abs(r.left-e.x);switch(Math.min(n,s,a,o)){case o:return"left";case a:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Tr(e,r,n=5){const s=[];switch(r){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function Mr(e){const{top:r,right:n,bottom:s,left:a}=e;return[{x:a,y:r},{x:n,y:r},{x:n,y:s},{x:a,y:s}]}function Er(e,r){const{x:n,y:s}=e;let a=!1;for(let o=0,c=r.length-1;o<r.length;c=o++){const i=r[o],l=r[c],u=i.x,h=i.y,m=l.x,f=l.y;h>s!=f>s&&n<(m-u)*(s-h)/(f-h)+u&&(a=!a)}return a}function Ar(e){const r=e.slice();return r.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),Rr(r)}function Rr(e){if(e.length<=1)return e.slice();const r=[];for(let s=0;s<e.length;s++){const a=e[s];for(;r.length>=2;){const o=r[r.length-1],c=r[r.length-2];if((o.x-c.x)*(a.y-c.y)>=(o.y-c.y)*(a.x-c.x))r.pop();else break}r.push(a)}r.pop();const n=[];for(let s=e.length-1;s>=0;s--){const a=e[s];for(;n.length>=2;){const o=n[n.length-1],c=n[n.length-2];if((o.x-c.x)*(a.y-c.y)>=(o.y-c.y)*(a.x-c.x))n.pop();else break}n.push(a)}return n.pop(),r.length===1&&n.length===1&&r[0].x===n[0].x&&r[0].y===n[0].y?r:r.concat(n)}var Dr=Ve,Ir=Ke,Lr=We,Pr=Ye,Or=Ze,zr=et;function tt({delayDuration:e=0,...r}){return t.jsx(Dr,{"data-slot":"tooltip-provider",delayDuration:e,...r})}function $r({...e}){return t.jsx(tt,{children:t.jsx(Ir,{"data-slot":"tooltip",...e})})}function Br({...e}){return t.jsx(Lr,{"data-slot":"tooltip-trigger",...e})}function Hr({className:e,sideOffset:r=4,children:n,...s}){return t.jsx(Pr,{children:t.jsxs(Or,{"data-slot":"tooltip-content",sideOffset:r,className:v("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-w-sm rounded-md px-3 py-1.5 text-xs",e),...s,children:[n,t.jsx(zr,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const Fr="sidebar_state",Ur=3600*24*7,qr="16rem",Xr="18rem",Gr="3rem",Vr="b",rt=d.createContext(null);function A(){const e=d.useContext(rt);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function ba({defaultOpen:e=!0,open:r,onOpenChange:n,className:s,style:a,children:o,...c}){const i=Xe(),[l,u]=d.useState(!1),[h,m]=d.useState(e),f=r??h,x=d.useCallback(j=>{const g=typeof j=="function"?j(f):j;n?n(g):m(g),document.cookie=`${Fr}=${g}; path=/; max-age=${Ur}`},[n,f]),p=d.useCallback(()=>i?u(j=>!j):x(j=>!j),[i,x,u]);d.useEffect(()=>{const j=g=>{g.key===Vr&&(g.metaKey||g.ctrlKey)&&(g.preventDefault(),p())};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[p]);const b=f?"expanded":"collapsed",w=d.useMemo(()=>({state:b,open:f,setOpen:x,isMobile:i,openMobile:l,setOpenMobile:u,toggleSidebar:p}),[b,f,x,i,l,u,p]);return t.jsx(rt.Provider,{value:w,children:t.jsx(tt,{delayDuration:0,children:t.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":qr,"--sidebar-width-icon":Gr,...a},className:v("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",s),...c,children:o})})})}function he({side:e="left",variant:r="sidebar",collapsible:n="offcanvas",className:s,children:a,...o}){const{isMobile:c,state:i,openMobile:l,setOpenMobile:u}=A();return n==="none"?t.jsx("div",{"data-slot":"sidebar",className:v("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",s),...o,children:a}):c?t.jsxs(Me,{open:l,onOpenChange:u,...o,children:[t.jsxs(Ee,{className:"sr-only",children:[t.jsx(Ae,{children:"Sidebar"}),t.jsx(Re,{children:"Displays the mobile sidebar."})]}),t.jsx(De,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":Xr},side:e,children:t.jsx("div",{className:"flex h-full w-full flex-col",children:a})})]}):t.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":i,"data-collapsible":i==="collapsed"?n:"","data-variant":r,"data-side":e,"data-slot":"sidebar",children:[t.jsx("div",{className:v("relative h-svh w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",r==="floating"||r==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),t.jsx("div",{className:v("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",r==="floating"||r==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",s),...o,children:t.jsx("div",{"data-sidebar":"sidebar",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:a})})]})}function va({className:e,onClick:r,...n}){const{toggleSidebar:s}=A();return t.jsxs(T,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:v("h-7 w-7",e),onClick:a=>{r==null||r(a),s()},...n,children:[t.jsx(sr,{}),t.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function ja({className:e,...r}){return t.jsx("main",{"data-slot":"sidebar-inset",className:v("bg-background relative flex max-w-full min-h-svh flex-1 flex-col","peer-data-[variant=inset]:min-h-[calc(100svh-(--spacing(4)))] md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-0",e),...r})}function xe({className:e,...r}){return t.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:v("flex flex-col gap-2 p-2",e),...r})}function ge({className:e,...r}){return t.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:v("flex flex-col gap-2 p-2",e),...r})}function be({className:e,...r}){return t.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:v("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...r})}function nt({className:e,...r}){return t.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:v("relative flex w-full min-w-0 flex-col p-2",e),...r})}function Kr({className:e,asChild:r=!1,...n}){const s=r?oe:"div";return t.jsx(s,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:v("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})}function Wr({className:e,...r}){return t.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:v("w-full text-sm",e),...r})}function E({className:e,...r}){return t.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:v("flex w-full min-w-0 flex-col gap-1",e),...r})}function M({className:e,...r}){return t.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:v("group/menu-item relative",e),...r})}const Yr=ft("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}}),$=d.forwardRef(function({asChild:r=!1,isActive:n=!1,variant:s="default",size:a="default",tooltip:o,className:c,...i},l){const u=r?oe:"button",{isMobile:h,state:m}=A(),f=t.jsx(u,{ref:l,"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":a,"data-active":n,className:v(Yr({variant:s,size:a}),c),...i});return o?(typeof o=="string"&&(o={children:o}),t.jsxs($r,{children:[t.jsx(Br,{asChild:!0,children:f}),t.jsx(Hr,{side:"right",align:"center",hidden:m!=="collapsed"||h,...o})]})):f});$.displayName="SidebarMenuButton";function Zr({iconNode:e,className:r,...n}){return t.jsx(e,{className:v("h-4 w-4",r),...n})}function K(){const{auth:e}=X().props;return e}function ce(){return{hasRole:(r,n)=>r!=null&&r.roles?r.roles.some(s=>s.name===n):!1}}function Jr({items:e,className:r,...n}){const{user:s}=K(),{hasRole:a}=ce();return t.jsx(nt,{...n,className:`group-data-[collapsible=icon]:p-0 ${r||""}`,children:t.jsx(Wr,{children:t.jsx(E,{children:e.map(o=>o.roles&&!o.roles.some(c=>a(s,c))?null:t.jsx(M,{children:t.jsx($,{asChild:!0,className:`text-neutral-600 hover:text-neutral-800 dark:text-neutral-300 dark:hover:text-neutral-100 ${o.className||""}`,children:t.jsxs("a",{href:o.href,target:"_blank",rel:"noopener noreferrer",children:[o.icon&&t.jsx(Zr,{iconNode:o.icon,className:"h-5 w-5"}),t.jsx("span",{children:o.title})]})})},o.title))})})})}function Qr({items:e=[]}){const r=X();return t.jsxs(nt,{className:"px-2 py-0",children:[t.jsx(Kr,{children:"Pages"}),t.jsx(E,{children:e.map(n=>t.jsx(M,{children:t.jsx($,{asChild:!0,isActive:n.href===r.url,tooltip:{children:n.title},children:t.jsxs(te,{href:n.href,prefetch:!0,children:[n.icon&&t.jsx(n.icon,{}),t.jsx("span",{children:n.title})]})})},n.title))})]})}function en(e,r=[]){let n=[];function s(o,c){const i=d.createContext(c);i.displayName=o+"Context";const l=n.length;n=[...n,c];const u=m=>{var j;const{scope:f,children:x,...p}=m,b=((j=f==null?void 0:f[e])==null?void 0:j[l])||i,w=d.useMemo(()=>p,Object.values(p));return t.jsx(b.Provider,{value:w,children:x})};u.displayName=o+"Provider";function h(m,f){var b;const x=((b=f==null?void 0:f[e])==null?void 0:b[l])||i,p=d.useContext(x);if(p)return p;if(c!==void 0)return c;throw new Error(`\`${m}\` must be used within \`${o}\``)}return[u,h]}const a=()=>{const o=n.map(c=>d.createContext(c));return function(i){const l=(i==null?void 0:i[e])||o;return d.useMemo(()=>({[`__scope${e}`]:{...i,[e]:l}}),[i,l])}};return a.scopeName=e,[s,tn(a,...r)]}function tn(...e){const r=e[0];if(e.length===1)return r;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const c=s.reduce((i,{useScope:l,scopeName:u})=>{const m=l(o)[`__scope${u}`];return{...i,...m}},{});return d.useMemo(()=>({[`__scope${r.scopeName}`]:c}),[c])}};return n.scopeName=r.scopeName,n}var rn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],de=rn.reduce((e,r)=>{const n=mt(`Primitive.${r}`),s=d.forwardRef((a,o)=>{const{asChild:c,...i}=a,l=c?n:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(l,{...i,ref:o})});return s.displayName=`Primitive.${r}`,{...e,[r]:s}},{}),Q={exports:{}},ee={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ve;function nn(){if(ve)return ee;ve=1;var e=ut();function r(m,f){return m===f&&(m!==0||1/m===1/f)||m!==m&&f!==f}var n=typeof Object.is=="function"?Object.is:r,s=e.useState,a=e.useEffect,o=e.useLayoutEffect,c=e.useDebugValue;function i(m,f){var x=f(),p=s({inst:{value:x,getSnapshot:f}}),b=p[0].inst,w=p[1];return o(function(){b.value=x,b.getSnapshot=f,l(b)&&w({inst:b})},[m,x,f]),a(function(){return l(b)&&w({inst:b}),m(function(){l(b)&&w({inst:b})})},[m]),c(x),x}function l(m){var f=m.getSnapshot;m=m.value;try{var x=f();return!n(m,x)}catch{return!0}}function u(m,f){return f()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:i;return ee.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,ee}var je;function an(){return je||(je=1,Q.exports=nn()),Q.exports}var sn=an();function on(){return sn.useSyncExternalStore(ln,()=>!0,()=>!1)}function ln(){return()=>{}}var ue="Avatar",[cn]=en(ue),[dn,at]=cn(ue),st=d.forwardRef((e,r)=>{const{__scopeAvatar:n,...s}=e,[a,o]=d.useState("idle");return t.jsx(dn,{scope:n,imageLoadingStatus:a,onImageLoadingStatusChange:o,children:t.jsx(de.span,{...s,ref:r})})});st.displayName=ue;var ot="AvatarImage",it=d.forwardRef((e,r)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:a=()=>{},...o}=e,c=at(ot,n),i=un(s,o),l=_t(u=>{a(u),c.onImageLoadingStatusChange(u)});return re(()=>{i!=="idle"&&l(i)},[i,l]),i==="loaded"?t.jsx(de.img,{...o,ref:r,src:s}):null});it.displayName=ot;var lt="AvatarFallback",ct=d.forwardRef((e,r)=>{const{__scopeAvatar:n,delayMs:s,...a}=e,o=at(lt,n),[c,i]=d.useState(s===void 0);return d.useEffect(()=>{if(s!==void 0){const l=window.setTimeout(()=>i(!0),s);return()=>window.clearTimeout(l)}},[s]),c&&o.imageLoadingStatus!=="loaded"?t.jsx(de.span,{...a,ref:r}):null});ct.displayName=lt;function we(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function un(e,{referrerPolicy:r,crossOrigin:n}){const s=on(),a=d.useRef(null),o=s?(a.current||(a.current=new window.Image),a.current):null,[c,i]=d.useState(()=>we(o,e));return re(()=>{i(we(o,e))},[o,e]),re(()=>{const l=m=>()=>{i(m)};if(!o)return;const u=l("loaded"),h=l("error");return o.addEventListener("load",u),o.addEventListener("error",h),r&&(o.referrerPolicy=r),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",u),o.removeEventListener("error",h)}},[o,n,r]),c}var fn=st,mn=it,pn=ct;function ye({className:e,...r}){return t.jsx(fn,{"data-slot":"avatar",className:v("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...r})}function hn({className:e,...r}){return t.jsx(mn,{"data-slot":"avatar-image",className:v("aspect-square size-full",e),...r})}function Se({className:e,...r}){return t.jsx(pn,{"data-slot":"avatar-fallback",className:v("bg-muted flex size-full items-center justify-center rounded-full",e),...r})}function xn(){return d.useCallback((e,r)=>!e&&!r?"":r?e?`${e.charAt(0)}${r.charAt(0)}`.toUpperCase():r.charAt(0).toUpperCase():e.charAt(0).toUpperCase(),[])}function se({user:e,showEmail:r=!1}){const n=xn();return e?t.jsxs(t.Fragment,{children:[t.jsxs(ye,{className:"h-8 w-8 overflow-hidden rounded-full",children:[t.jsx(hn,{src:e.avatar,alt:`${e.first_name} ${e.last_name}`}),t.jsx(Se,{className:"rounded-lg bg-neutral-200 text-black dark:bg-neutral-700 dark:text-white",children:n(e.first_name,e.last_name)})]}),t.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[t.jsxs("span",{className:"truncate font-medium",children:[e.first_name," ",e.last_name]}),r&&t.jsx("span",{className:"text-muted-foreground truncate text-xs",children:e.email})]})]}):t.jsxs(t.Fragment,{children:[t.jsx(ye,{className:"h-8 w-8 overflow-hidden rounded-full",children:t.jsx(Se,{className:"rounded-lg bg-neutral-200 text-black dark:bg-neutral-700 dark:text-white",children:"?"})}),t.jsx("div",{className:"grid flex-1 text-left text-sm leading-tight",children:t.jsx("span",{className:"truncate font-medium text-muted-foreground",children:"Guest"})})]})}function gn(){return d.useCallback(()=>{document.body.style.removeProperty("pointer-events")},[])}function bn({user:e}){const r=gn(),n=()=>{r(),O.flushAll()};return t.jsxs(t.Fragment,{children:[t.jsx(Pe,{className:"p-0 font-normal",children:t.jsx("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:t.jsx(se,{user:e,showEmail:!0})})}),t.jsx(U,{}),t.jsx(Ct,{children:t.jsx(q,{asChild:!0,children:t.jsxs(te,{className:"block w-full",href:route("profile.edit"),as:"button",prefetch:!0,onClick:r,children:[t.jsx(Ue,{className:"mr-2"}),"Settings"]})})}),t.jsx(U,{}),t.jsx(q,{asChild:!0,children:t.jsxs(te,{className:"block w-full",method:"post",href:route("logout"),as:"button",onClick:n,children:[t.jsx(nr,{className:"mr-2"}),"Log out"]})})]})}function Ne(){const{auth:e}=X().props,{state:r}=A(),n=Xe(),s=(e==null?void 0:e.user)??null;return t.jsx(E,{children:t.jsx(M,{children:s?t.jsxs(Oe,{children:[t.jsx(ze,{asChild:!0,children:t.jsxs($,{size:"lg",className:"text-sidebar-accent-foreground data-[state=open]:bg-sidebar-accent group",children:[t.jsx(se,{user:s}),t.jsx(Qt,{className:"ml-auto size-4"})]})}),t.jsx($e,{className:"w-(--radix-dropdown-menu-trigger-width) min-w-56 rounded-lg",align:"end",side:n?"bottom":r==="collapsed"?"left":"bottom",children:t.jsx(bn,{user:s})})]}):t.jsx($,{size:"lg",className:"text-sidebar-accent-foreground cursor-default",children:t.jsx(se,{user:null})})})})}const vn=["creator","products","kyc","script","hr","assets","transactions","activity","loan-packages","loans","borrows","tickets"],ke=[{id:"creator",title:"Creator",pathSuffix:"creator",icon:ir},{id:"products",title:"Products",pathSuffix:"products",icon:fr},{id:"kyc",title:"KYC",pathSuffix:"kyc",icon:Be},{id:"script",title:"Script",pathSuffix:"script",icon:cr},{id:"hr",title:"HR",pathSuffix:"hr",icon:Tt},{id:"assets",title:"Assets",pathSuffix:"assets",icon:Mt},{id:"transactions",title:"Transactions",pathSuffix:"transactions",icon:At},{id:"activity",title:"Notifications",pathSuffix:"activity",icon:Fe},{id:"loan-packages",title:"Loan Packages",pathSuffix:"loan-packages",icon:Z},{id:"loans",title:"My Loans",pathSuffix:"loans",icon:Z},{id:"borrows",title:"Borrows",pathSuffix:"borrows",icon:Z},{id:"tickets",title:"Tickets",pathSuffix:"tickets",icon:qe}];function jn(e,r){var i;const n=(i=r==null?void 0:r.order)!=null&&i.length?r.order:[...vn],s=(r==null?void 0:r.enabled)??{},a=new Map(ke.map(l=>[l.id,l])),o=[],c=new Set;for(const l of n){if(c.has(l))continue;c.add(l);const u=a.get(l);u&&s[l]!==!1&&o.push({id:u.id,title:u.title,href:`/${e}/${u.pathSuffix}`,icon:u.icon})}for(const l of ke)c.has(l.id)||s[l.id]!==!1&&o.push({id:l.id,title:l.title,href:`/${e}/${l.pathSuffix}`,icon:l.icon});return o}function wn({teams:e=[],onTeamSwitch:r,defaultTeam:n}){const{isMobile:s,state:a}=A(),{user:o}=K(),{hasRole:c}=ce(),i=d.useMemo(()=>e.length?e.find(u=>u.slug===n)||e[0]:null,[e,n]),l=u=>{O.visit(`/${u.slug}/dashboard`),r==null||r(u)};return i?t.jsx(E,{children:t.jsx(M,{children:t.jsxs(Oe,{children:[t.jsx(ze,{asChild:!0,children:t.jsxs(T,{variant:"ghost",className:a==="collapsed"?"w-full justify-center":"w-full justify-between",children:[t.jsxs("div",{className:a==="collapsed"?"flex items-center justify-center":"flex items-center gap-2",children:[typeof i.logo=="string"?t.jsx("img",{src:i.logo,alt:"",className:"size-8 shrink-0 rounded-md object-contain"}):t.jsx(i.logo,{}),a==="expanded"&&t.jsxs("div",{className:"flex flex-col items-start",children:[t.jsx("span",{className:"text-sm font-medium",children:i.name}),t.jsx("span",{className:"text-xs text-muted-foreground",children:i.plan})]})]}),a==="expanded"&&t.jsx(Rt,{className:"h-4 w-4"})]})}),t.jsxs($e,{className:"w-56",children:[t.jsx(Pe,{children:"Switch Organization"}),t.jsx(U,{}),e.map(u=>t.jsx(q,{onClick:()=>l(u),className:"cursor-pointer",children:t.jsxs("div",{className:"flex items-center gap-2",children:[typeof u.logo=="string"?t.jsx("img",{src:u.logo,alt:"",className:"size-8 shrink-0 rounded-md object-contain"}):t.jsx(u.logo,{}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-medium",children:u.name}),t.jsx("span",{className:"text-xs text-muted-foreground",children:u.plan})]})]})},u.slug)),c(o,"superadmin")&&t.jsxs(t.Fragment,{children:[t.jsx(U,{}),t.jsx(q,{asChild:!0,children:t.jsx("a",{href:route("tenants.index"),children:"Manage Organizations"})})]})]})]})})}):t.jsx(E,{children:t.jsx(M,{children:t.jsx(T,{variant:"ghost",className:"w-full justify-between",disabled:!0,children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("span",{className:"text-sm font-medium",children:"No organizations available"})})})})})}function F(e,r){const n=k(e),s=k(r),a=n.getTime()-s.getTime();return a<0?-1:a>0?1:a}function yn(e){return Pt(e,Date.now())}function Sn(e){return r=>{const s=(e?Math[e]:Math.trunc)(r);return s===0?0:s}}function Nn(e,r){return+k(e)-+k(r)}function kn(e){const r=k(e);return r.setHours(23,59,59,999),r}function Cn(e){const r=k(e);return+kn(r)==+$t(r)}function _n(e,r){const n=k(e),s=k(r),a=F(n,s),o=Math.abs(Bt(n,s));let c;if(o<1)c=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-a*o);let i=F(n,s)===-a;Cn(k(e))&&o===1&&F(e,s)===1&&(i=!1),c=a*(o-Number(i))}return c===0?0:c}function Tn(e,r,n){const s=Nn(e,r)/1e3;return Sn(n==null?void 0:n.roundingMethod)(s)}function Mn(e,r,n){const s=zt(),a=(n==null?void 0:n.locale)??s.locale??Ot,o=2520,c=F(e,r);if(isNaN(c))throw new RangeError("Invalid time value");const i=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:c});let l,u;c>0?(l=k(r),u=k(e)):(l=k(e),u=k(r));const h=Tn(u,l),m=(me(u)-me(l))/1e3,f=Math.round((h-m)/60);let x;if(f<2)return n!=null&&n.includeSeconds?h<5?a.formatDistance("lessThanXSeconds",5,i):h<10?a.formatDistance("lessThanXSeconds",10,i):h<20?a.formatDistance("lessThanXSeconds",20,i):h<40?a.formatDistance("halfAMinute",0,i):h<60?a.formatDistance("lessThanXMinutes",1,i):a.formatDistance("xMinutes",1,i):f===0?a.formatDistance("lessThanXMinutes",1,i):a.formatDistance("xMinutes",f,i);if(f<45)return a.formatDistance("xMinutes",f,i);if(f<90)return a.formatDistance("aboutXHours",1,i);if(f<pe){const p=Math.round(f/60);return a.formatDistance("aboutXHours",p,i)}else{if(f<o)return a.formatDistance("xDays",1,i);if(f<H){const p=Math.round(f/pe);return a.formatDistance("xDays",p,i)}else if(f<H*2)return x=Math.round(f/H),a.formatDistance("aboutXMonths",x,i)}if(x=_n(u,l),x<12){const p=Math.round(f/H);return a.formatDistance("xMonths",p,i)}else{const p=x%12,b=Math.trunc(x/12);return p<3?a.formatDistance("aboutXYears",b,i):p<9?a.formatDistance("overXYears",b,i):a.formatDistance("almostXYears",b+1,i)}}function En(e,r){return Mn(e,yn(e),r)}const An=e=>{const r=e.toLowerCase();return r.includes("user")||r.includes("profile")?Ht:r.includes("setting")?Ue:r.includes("document")||r.includes("file")?Be:r.includes("loan")||r.includes("payment")?Ft:r.includes("transaction")?Ut:r.includes("email")||r.includes("mail")?qt:r.includes("security")||r.includes("permission")?Xt:r.includes("error")||r.includes("warning")?Gt:Yt},Rn=e=>{const r=e.toLowerCase();return r.includes("error")||r.includes("warning")?"text-red-500":r.includes("success")||r.includes("approved")?"text-green-500":r.includes("update")||r.includes("modified")?"text-blue-500":r.includes("create")||r.includes("new")?"text-purple-500":r.includes("delete")||r.includes("remove")?"text-orange-500":"text-gray-500"},Ce=()=>t.jsxs("div",{className:"flex items-start gap-2 rounded-md border p-2",children:[t.jsx(I,{className:"h-1.5 w-1.5 rounded-full mt-1"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsx(I,{className:"h-4 w-24"}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx(I,{className:"h-6 w-6"}),t.jsx(I,{className:"h-6 w-6"})]})]}),t.jsx(I,{className:"h-3 w-48 mt-1"}),t.jsx(I,{className:"h-2 w-20 mt-0.5"})]})]});function Dn({unreadCount:e}){const{props:r}=X(),{state:n}=A(),[s,a]=d.useState(null),[o,c]=d.useState(!1),[i,l]=d.useState(!1),{user:u}=K(),h=d.useRef(null),m=Dt();He();const f=async(g=1)=>{var y,_,S;c(!0);try{let N=((y=document.querySelector('meta[name="csrf-token"]'))==null?void 0:y.getAttribute("content"))||((_=document.querySelector('meta[name="csrf"]'))==null?void 0:_.getAttribute("content"))||((S=document.querySelector('meta[name="csrf-param"]'))==null?void 0:S.getAttribute("content"));if(!N){const fe=document.cookie.split(";").find(dt=>dt.trim().startsWith("XSRF-TOKEN="));fe&&(N=decodeURIComponent(fe.split("=")[1]))}if(!N)throw new Error("CSRF token not found in meta tags or cookies");const P=await fetch(m.route("activity.user-notifications"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":N,"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({page:g}),credentials:"same-origin"});if(!P.ok)throw new Error("Failed to load activities");const R=(await P.json()).activities;a(W=>W?{...R,data:[...W.data,...R.data],links:R.links,current_page:R.current_page,last_page:R.last_page}:R)}catch(N){console.error("Failed to load activities:",N)}finally{c(!1)}};d.useEffect(()=>{i&&!s&&f()},[i]),d.useEffect(()=>{const g=new IntersectionObserver(y=>{y[0].isIntersecting&&s&&!o&&s.current_page<s.last_page&&f(s.current_page+1)},{threshold:.1});return h.current&&g.observe(h.current),()=>g.disconnect()},[s,o]);const x=g=>{console.log("Mark as read:",g)},p=g=>{console.log("Mark as unread:",g)},b=g=>{console.log("Delete:",g)},w=async()=>{var g;try{const y=(g=document.querySelector('meta[name="csrf-token"]'))==null?void 0:g.getAttribute("content");if(!y)throw new Error("CSRF token not found");if(!(await fetch(m.route("activity.user.reset-counter"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":y,"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"})).ok)throw new Error("Failed to reset counter");a(S=>S&&{...S,data:S.data.map(N=>({...N,properties:{...N.properties,read:!0}}))}),O.reload()}catch(y){console.error("Failed to reset counter:",y)}},j=n==="collapsed";return t.jsxs(Me,{open:i,onOpenChange:l,children:[t.jsx(pt,{asChild:!0,children:t.jsxs(T,{variant:"ghost",className:v("relative",j?"size-8 shrink-0 justify-center p-0":"w-full justify-start gap-2"),"aria-label":"Notifications",children:[t.jsx(Fe,{className:"size-4 shrink-0"}),!j&&t.jsx("span",{children:"Inbox"}),e>0&&t.jsx("span",{className:v("flex h-5 min-w-5 items-center justify-center rounded-full bg-red-500 text-[10px] text-white",j?"absolute -right-0.5 -top-0.5 px-1":"ml-auto px-1.5"),children:e})]})}),t.jsxs(De,{side:"left",children:[t.jsxs(Ee,{className:"space-y-2",children:[t.jsx(Ae,{children:"Notifications"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(Re,{children:"View and manage your notifications"}),e>0&&t.jsx(T,{variant:"ghost",size:"sm",onClick:w,className:"text-xs",children:"Mark all as read"})]})]}),t.jsxs("div",{className:"mt-2 space-y-1",children:[s==null?void 0:s.data.map(g=>{var N;const y=An(g.description),_=Rn(g.description),S=(N=g.properties)==null?void 0:N.read;return t.jsxs("div",{className:v("flex items-start gap-2 rounded-md border p-2 hover:bg-muted/50 transition-colors",!S&&"bg-muted/30"),children:[t.jsx("div",{className:"mt-1",children:S?t.jsx(Y,{className:"size-1.5 text-muted-foreground"}):t.jsx(Y,{className:"size-1.5 fill-primary text-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:v("rounded-full p-1",_),children:t.jsx(y,{className:"h-3.5 w-3.5"})}),t.jsx("p",{className:"text-sm font-medium truncate",children:g.causer&&g.causer.id===u.id?"You":"System (Admin)"})]}),t.jsxs("div",{className:"flex gap-1 shrink-0",children:[S?t.jsx(T,{variant:"ghost",size:"icon",onClick:()=>p(g.id),className:"h-6 w-6",children:t.jsx(Y,{className:"size-3"})}):t.jsx(T,{variant:"ghost",size:"icon",onClick:()=>x(g.id),className:"h-6 w-6",children:t.jsx(It,{className:"size-3"})}),t.jsx(T,{variant:"ghost",size:"icon",onClick:()=>b(g.id),className:"h-6 w-6",children:t.jsx(Lt,{className:"size-3"})})]})]}),t.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mt-0.5",children:g.description}),t.jsx("p",{className:"text-[10px] text-muted-foreground mt-0.5",children:En(new Date(g.created_at),{addSuffix:!0})})]})]},g.id)}),o&&t.jsxs(t.Fragment,{children:[t.jsx(Ce,{}),t.jsx(Ce,{})]}),t.jsx("div",{ref:h,className:"h-4"})]})]})]})}function In(e){return!e||typeof e!="string"?null:`/storage/${e.startsWith("public/")?e.slice(7):e}`}const Ln=d.memo(function(){return t.jsx(Vt,{className:"size-4 shrink-0"})}),_e=d.memo(function({teams:r,onTeamSwitch:n,defaultTeam:s}){return t.jsx(wn,{teams:r,onTeamSwitch:n,defaultTeam:s})}),wa=d.memo(function(){var f,x;const{user:r}=K(),{hasRole:n}=ce(),{notifications:s,effectiveTenant:a,tenants:o,preferences:c}=He(),{state:i}=A(),l=d.useMemo(()=>o.map(p=>{const b=In(p.logo??null);return{name:p.name,logo:b??Ln,plan:n(r,"superadmin")?"Admin":"User",slug:p.slug}}),[o,r,n]),u=p=>{O.visit(`/${p.slug}/dashboard`,{preserveState:!1,preserveScroll:!1,only:["tenant","preferences"]})},h=d.useMemo(()=>{var p;return a!=null&&a.slug?jn(a.slug,(p=a.data)==null?void 0:p.sidebar_pages).map(({title:b,href:w,icon:j})=>({title:b,href:w,icon:j})):[]},[a==null?void 0:a.slug,(f=a==null?void 0:a.data)==null?void 0:f.sidebar_pages]),m=[{title:"Admin",href:"/admin/dashboard",icon:hr,className:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-md",roles:["superadmin","admin","manager"]},{title:"Ticket Support",href:"/admin/tickets",icon:qe,className:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-md",roles:["support"]}];return a!=null&&a.slug?t.jsxs(he,{collapsible:"icon",variant:"inset",className:"border-r border-border",children:[t.jsx(xe,{className:"border-b border-border",children:t.jsxs(E,{children:[t.jsx(M,{children:t.jsx(_e,{teams:l,onTeamSwitch:u,defaultTeam:a.slug})}),t.jsx(M,{children:a&&t.jsxs("div",{children:[t.jsxs(T,{variant:"ghost",className:v(i==="collapsed"?"size-8 shrink-0 justify-center p-0":"w-full justify-start gap-2"),onClick:()=>O.visit(`/${a.slug}/dashboard`),children:[t.jsx(Et,{className:"size-4"}),i==="expanded"&&t.jsx("span",{children:"Dashboard"})]}),t.jsx(Dn,{unreadCount:s.unread_count})]})})]})}),t.jsx(be,{children:t.jsx(Qr,{items:h.filter(p=>p.title!=="Dashboard")})}),t.jsxs(ge,{className:"border-t border-border",children:[n(r,"user")?"":t.jsx(Jr,{items:m,className:"mt-auto"}),t.jsx(Ne,{})]})]}):t.jsxs(he,{collapsible:"icon",variant:"inset",className:"border-r border-border",children:[t.jsx(xe,{className:"border-b border-border",children:t.jsx(E,{children:t.jsx(M,{children:t.jsx(_e,{teams:l,onTeamSwitch:u,defaultTeam:c!=null&&c.last_tenant_id?(x=o.find(p=>String(p.id)===String(c.last_tenant_id)))==null?void 0:x.slug:void 0})})})}),t.jsx(be,{children:t.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Please select an organization to continue"})}),t.jsx(ge,{children:t.jsx(Ne,{})})]})});function ya({...e}){return t.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...e})}function Sa({className:e,...r}){return t.jsx("ol",{"data-slot":"breadcrumb-list",className:v("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",e),...r})}function Na({className:e,...r}){return t.jsx("li",{"data-slot":"breadcrumb-item",className:v("inline-flex items-center gap-1.5",e),...r})}function ka({asChild:e,className:r,...n}){const s=e?oe:"a";return t.jsx(s,{"data-slot":"breadcrumb-link",className:v("hover:text-foreground transition-colors",r),...n})}function Ca({className:e,...r}){return t.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:v("text-foreground font-normal",e),...r})}function _a({children:e,className:r,...n}){return t.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:v("[&>svg]:size-3.5",r),...n,children:e??t.jsx(Kt,{})})}export{Yt as A,Fe as B,Y as C,Z as H,sr as P,Ue as S,$r as T,ja as a,ba as b,ya as c,Sa as d,Na as e,En as f,Ca as g,ka as h,_a as i,va as j,wa as k,ye as l,hn as m,Se as n,Br as o,Hr as p,cr as q,vn as r,ke as s,an as t,K as u};
