import{r as c,j as t,b as X,L as te,c as ut,a as O}from"./app-Bw_eO3sd.js";import{c as v}from"./utils-DawFQoOT.js";import{u as Ee,B as M,S as oe,c as ft,a as mt}from"./button-DY2O9S9G.js";import"./input-Bmbc7aO-.js";import{S as Te,a as Ae,b as Re,c as De,d as Le,e as ht}from"./sheet-CmXTK4FQ.js";import{u as pt,P as xt,c as D,a as gt,b as re}from"./index-BUUDosUt.js";import{D as bt}from"./index-fLpoMwuJ.js";import{u as vt}from"./index-CVZ3wJAA.js";import{R as jt,A as wt,a as yt,c as Ie,C as Nt}from"./index-V7Tq7z7Y.js";import{P as St}from"./index-NSo7goI1.js";import{P as Pe}from"./index-KPETvMeP.js";import{R as kt}from"./index-U92boKRB.js";import{c as C}from"./createLucideIcon-B9LDe1F7.js";import{e as Oe,d as U,f as Ct,c as q,D as $e,a as ze,b as He}from"./dropdown-menu-eFqcjt66.js";import{u as _t}from"./index-CtNM4qhv.js";import{C as Mt}from"./chevron-down-1laKfkfM.js";import{S as L}from"./skeleton-COevZx66.js";import{u as Be}from"./use-effective-tenant-DB7mi6AU.js";import{u as Et}from"./use-tenant-router-BPEgyWCx.js";import{C as Tt}from"./check-DWqh-ITp.js";import{T as At}from"./trash-2-CEE_VqOF.js";import{t as k,c as Rt,e as Dt,g as me,m as he,a as B,b as Lt}from"./en-US-DSSwd-Ay.js";import{e as It,d as Pt}from"./endOfMonth-BNqLjwTF.js";import{U as Ot}from"./user-DQDpUZmM.js";import{F as Fe}from"./file-text-DPljHKaA.js";import{D as $t}from"./dollar-sign-BdaYzWQe.js";import{C as zt}from"./credit-card-8AiVb87_.js";import{M as Ht}from"./mail-FVHvQLZC.js";import{S as Bt}from"./shield-BPzbhB4h.js";import{C as Ft}from"./circle-alert-BvybSHRd.js";import{L as pe,P as Ut}from"./package-D6uMvGvA.js";import{U as qt}from"./users-BpArtZsm.js";import{W as Xt}from"./wallet-Cnkdu3fg.js";import{B as Gt}from"./building-2-DJOAXm0m.js";import{C as Vt}from"./chevron-right-BXZknpZE.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Wt=C("Activity",Kt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Ue=C("Bell",Yt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Jt=C("ChevronsUpDown",Zt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Y=C("Circle",Qt);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]],Z=C("Handshake",er);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],rr=C("LogOut",tr);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],nr=C("PanelLeft",sr);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],or=C("ScrollText",ar);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qe=C("Settings",ir);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],cr=C("ShoppingBag",lr);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],xe=C("Ticket",dr);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=[["path",{d:"M2 21a8 8 0 0 1 10.434-7.62",key:"1yezr2"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["path",{d:"m19.5 14.3-.4.9",key:"1eb35c"}],["path",{d:"m16.9 20.8-.4.9",key:"dfjc4z"}],["path",{d:"m21.7 19.5-.9-.4",key:"q4dx6b"}],["path",{d:"m15.2 16.9-.9-.4",key:"1r0w5f"}],["path",{d:"m21.7 16.5-.9.4",key:"1knoei"}],["path",{d:"m15.2 19.1-.9.4",key:"j188fs"}],["path",{d:"m19.5 21.7-.4-.9",key:"1tonu5"}],["path",{d:"m16.9 15.2-.4-.9",key:"699xu"}]],fr=C("UserRoundCog",ur),J=768;function Xe(){const[e,r]=c.useState(void 0);return c.useEffect(()=>{const s=window.matchMedia(`(max-width: ${J-1}px)`),a=()=>{r(window.innerWidth<J)};return s.addEventListener("change",a),r(window.innerWidth<J),()=>s.removeEventListener("change",a)},[]),!!e}var mr=Symbol("radix.slottable");function hr(e){const r=({children:s})=>t.jsx(t.Fragment,{children:s});return r.displayName=`${e}.Slottable`,r.__radixId=mr,r}var[G]=gt("Tooltip",[Ie]),V=Ie(),Ge="TooltipProvider",pr=700,se="tooltip.open",[xr,ie]=G(Ge),Ve=e=>{const{__scopeTooltip:r,delayDuration:s=pr,skipDelayDuration:a=300,disableHoverableContent:n=!1,children:o}=e,l=c.useRef(!0),i=c.useRef(!1),d=c.useRef(0);return c.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),t.jsx(xr,{scope:r,isOpenDelayedRef:l,delayDuration:s,onOpen:c.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:c.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,a)},[a]),isPointerInTransitRef:i,onPointerInTransitChange:c.useCallback(f=>{i.current=f},[]),disableHoverableContent:n,children:o})};Ve.displayName=Ge;var $="Tooltip",[gr,H]=G($),Ke=e=>{const{__scopeTooltip:r,children:s,open:a,defaultOpen:n,onOpenChange:o,disableHoverableContent:l,delayDuration:i}=e,d=ie($,e.__scopeTooltip),f=V(r),[p,h]=c.useState(null),u=vt(),m=c.useRef(0),g=l??d.disableHoverableContent,b=i??d.delayDuration,w=c.useRef(!1),[j,x]=pt({prop:a,defaultProp:n??!1,onChange:P=>{P?(d.onOpen(),document.dispatchEvent(new CustomEvent(se))):d.onClose(),o==null||o(P)},caller:$}),y=c.useMemo(()=>j?w.current?"delayed-open":"instant-open":"closed",[j]),_=c.useCallback(()=>{window.clearTimeout(m.current),m.current=0,w.current=!1,x(!0)},[x]),N=c.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x(!1)},[x]),S=c.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{w.current=!0,x(!0),m.current=0},b)},[b,x]);return c.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),t.jsx(jt,{...f,children:t.jsx(gr,{scope:r,contentId:u,open:j,stateAttribute:y,trigger:p,onTriggerChange:h,onTriggerEnter:c.useCallback(()=>{d.isOpenDelayedRef.current?S():_()},[d.isOpenDelayedRef,S,_]),onTriggerLeave:c.useCallback(()=>{g?N():(window.clearTimeout(m.current),m.current=0)},[N,g]),onOpen:_,onClose:N,disableHoverableContent:g,children:s})})};Ke.displayName=$;var ne="TooltipTrigger",We=c.forwardRef((e,r)=>{const{__scopeTooltip:s,...a}=e,n=H(ne,s),o=ie(ne,s),l=V(s),i=c.useRef(null),d=Ee(r,i,n.onTriggerChange),f=c.useRef(!1),p=c.useRef(!1),h=c.useCallback(()=>f.current=!1,[]);return c.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),t.jsx(wt,{asChild:!0,...l,children:t.jsx(xt.button,{"aria-describedby":n.open?n.contentId:void 0,"data-state":n.stateAttribute,...a,ref:d,onPointerMove:D(e.onPointerMove,u=>{u.pointerType!=="touch"&&!p.current&&!o.isPointerInTransitRef.current&&(n.onTriggerEnter(),p.current=!0)}),onPointerLeave:D(e.onPointerLeave,()=>{n.onTriggerLeave(),p.current=!1}),onPointerDown:D(e.onPointerDown,()=>{n.open&&n.onClose(),f.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:D(e.onFocus,()=>{f.current||n.onOpen()}),onBlur:D(e.onBlur,n.onClose),onClick:D(e.onClick,n.onClose)})})});We.displayName=ne;var le="TooltipPortal",[br,vr]=G(le,{forceMount:void 0}),Ye=e=>{const{__scopeTooltip:r,forceMount:s,children:a,container:n}=e,o=H(le,r);return t.jsx(br,{scope:r,forceMount:s,children:t.jsx(Pe,{present:s||o.open,children:t.jsx(St,{asChild:!0,container:n,children:a})})})};Ye.displayName=le;var I="TooltipContent",Ze=c.forwardRef((e,r)=>{const s=vr(I,e.__scopeTooltip),{forceMount:a=s.forceMount,side:n="top",...o}=e,l=H(I,e.__scopeTooltip);return t.jsx(Pe,{present:a||l.open,children:l.disableHoverableContent?t.jsx(Je,{side:n,...o,ref:r}):t.jsx(jr,{side:n,...o,ref:r})})}),jr=c.forwardRef((e,r)=>{const s=H(I,e.__scopeTooltip),a=ie(I,e.__scopeTooltip),n=c.useRef(null),o=Ee(r,n),[l,i]=c.useState(null),{trigger:d,onClose:f}=s,p=n.current,{onPointerInTransitChange:h}=a,u=c.useCallback(()=>{i(null),h(!1)},[h]),m=c.useCallback((g,b)=>{const w=g.currentTarget,j={x:g.clientX,y:g.clientY},x=Sr(j,w.getBoundingClientRect()),y=kr(j,x),_=Cr(b.getBoundingClientRect()),N=Mr([...y,..._]);i(N),h(!0)},[h]);return c.useEffect(()=>()=>u(),[u]),c.useEffect(()=>{if(d&&p){const g=w=>m(w,p),b=w=>m(w,d);return d.addEventListener("pointerleave",g),p.addEventListener("pointerleave",b),()=>{d.removeEventListener("pointerleave",g),p.removeEventListener("pointerleave",b)}}},[d,p,m,u]),c.useEffect(()=>{if(l){const g=b=>{const w=b.target,j={x:b.clientX,y:b.clientY},x=(d==null?void 0:d.contains(w))||(p==null?void 0:p.contains(w)),y=!_r(j,l);x?u():y&&(u(),f())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[d,p,l,f,u]),t.jsx(Je,{...e,ref:o})}),[wr,yr]=G($,{isInside:!1}),Nr=hr("TooltipContent"),Je=c.forwardRef((e,r)=>{const{__scopeTooltip:s,children:a,"aria-label":n,onEscapeKeyDown:o,onPointerDownOutside:l,...i}=e,d=H(I,s),f=V(s),{onClose:p}=d;return c.useEffect(()=>(document.addEventListener(se,p),()=>document.removeEventListener(se,p)),[p]),c.useEffect(()=>{if(d.trigger){const h=u=>{const m=u.target;m!=null&&m.contains(d.trigger)&&p()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[d.trigger,p]),t.jsx(bt,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:h=>h.preventDefault(),onDismiss:p,children:t.jsxs(Nt,{"data-state":d.stateAttribute,...f,...i,ref:r,style:{...i.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[t.jsx(Nr,{children:a}),t.jsx(wr,{scope:s,isInside:!0,children:t.jsx(kt,{id:d.contentId,role:"tooltip",children:n||a})})]})})});Ze.displayName=I;var Qe="TooltipArrow",et=c.forwardRef((e,r)=>{const{__scopeTooltip:s,...a}=e,n=V(s);return yr(Qe,s).isInside?null:t.jsx(yt,{...n,...a,ref:r})});et.displayName=Qe;function Sr(e,r){const s=Math.abs(r.top-e.y),a=Math.abs(r.bottom-e.y),n=Math.abs(r.right-e.x),o=Math.abs(r.left-e.x);switch(Math.min(s,a,n,o)){case o:return"left";case n:return"right";case s:return"top";case a:return"bottom";default:throw new Error("unreachable")}}function kr(e,r,s=5){const a=[];switch(r){case"top":a.push({x:e.x-s,y:e.y+s},{x:e.x+s,y:e.y+s});break;case"bottom":a.push({x:e.x-s,y:e.y-s},{x:e.x+s,y:e.y-s});break;case"left":a.push({x:e.x+s,y:e.y-s},{x:e.x+s,y:e.y+s});break;case"right":a.push({x:e.x-s,y:e.y-s},{x:e.x-s,y:e.y+s});break}return a}function Cr(e){const{top:r,right:s,bottom:a,left:n}=e;return[{x:n,y:r},{x:s,y:r},{x:s,y:a},{x:n,y:a}]}function _r(e,r){const{x:s,y:a}=e;let n=!1;for(let o=0,l=r.length-1;o<r.length;l=o++){const i=r[o],d=r[l],f=i.x,p=i.y,h=d.x,u=d.y;p>a!=u>a&&s<(h-f)*(a-p)/(u-p)+f&&(n=!n)}return n}function Mr(e){const r=e.slice();return r.sort((s,a)=>s.x<a.x?-1:s.x>a.x?1:s.y<a.y?-1:s.y>a.y?1:0),Er(r)}function Er(e){if(e.length<=1)return e.slice();const r=[];for(let a=0;a<e.length;a++){const n=e[a];for(;r.length>=2;){const o=r[r.length-1],l=r[r.length-2];if((o.x-l.x)*(n.y-l.y)>=(o.y-l.y)*(n.x-l.x))r.pop();else break}r.push(n)}r.pop();const s=[];for(let a=e.length-1;a>=0;a--){const n=e[a];for(;s.length>=2;){const o=s[s.length-1],l=s[s.length-2];if((o.x-l.x)*(n.y-l.y)>=(o.y-l.y)*(n.x-l.x))s.pop();else break}s.push(n)}return s.pop(),r.length===1&&s.length===1&&r[0].x===s[0].x&&r[0].y===s[0].y?r:r.concat(s)}var Tr=Ve,Ar=Ke,Rr=We,Dr=Ye,Lr=Ze,Ir=et;function tt({delayDuration:e=0,...r}){return t.jsx(Tr,{"data-slot":"tooltip-provider",delayDuration:e,...r})}function Pr({...e}){return t.jsx(tt,{children:t.jsx(Ar,{"data-slot":"tooltip",...e})})}function Or({...e}){return t.jsx(Rr,{"data-slot":"tooltip-trigger",...e})}function $r({className:e,sideOffset:r=4,children:s,...a}){return t.jsx(Dr,{children:t.jsxs(Lr,{"data-slot":"tooltip-content",sideOffset:r,className:v("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-w-sm rounded-md px-3 py-1.5 text-xs",e),...a,children:[s,t.jsx(Ir,{className:"bg-primary fill-primary z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px]"})]})})}const zr="sidebar_state",Hr=3600*24*7,Br="16rem",Fr="18rem",Ur="3rem",qr="b",rt=c.createContext(null);function A(){const e=c.useContext(rt);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function mn({defaultOpen:e=!0,open:r,onOpenChange:s,className:a,style:n,children:o,...l}){const i=Xe(),[d,f]=c.useState(!1),[p,h]=c.useState(e),u=r??p,m=c.useCallback(j=>{const x=typeof j=="function"?j(u):j;s?s(x):h(x),document.cookie=`${zr}=${x}; path=/; max-age=${Hr}`},[s,u]),g=c.useCallback(()=>i?f(j=>!j):m(j=>!j),[i,m,f]);c.useEffect(()=>{const j=x=>{x.key===qr&&(x.metaKey||x.ctrlKey)&&(x.preventDefault(),g())};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[g]);const b=u?"expanded":"collapsed",w=c.useMemo(()=>({state:b,open:u,setOpen:m,isMobile:i,openMobile:d,setOpenMobile:f,toggleSidebar:g}),[b,u,m,i,d,f,g]);return t.jsx(rt.Provider,{value:w,children:t.jsx(tt,{delayDuration:0,children:t.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":Br,"--sidebar-width-icon":Ur,...n},className:v("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",a),...l,children:o})})})}function ge({side:e="left",variant:r="sidebar",collapsible:s="offcanvas",className:a,children:n,...o}){const{isMobile:l,state:i,openMobile:d,setOpenMobile:f}=A();return s==="none"?t.jsx("div",{"data-slot":"sidebar",className:v("bg-sidebar text-sidebar-foreground flex h-full w-(--sidebar-width) flex-col",a),...o,children:n}):l?t.jsxs(Te,{open:d,onOpenChange:f,...o,children:[t.jsxs(Ae,{className:"sr-only",children:[t.jsx(Re,{children:"Sidebar"}),t.jsx(De,{children:"Displays the mobile sidebar."})]}),t.jsx(Le,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-(--sidebar-width) p-0 [&>button]:hidden",style:{"--sidebar-width":Fr},side:e,children:t.jsx("div",{className:"flex h-full w-full flex-col",children:n})})]}):t.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":i,"data-collapsible":i==="collapsed"?s:"","data-variant":r,"data-side":e,"data-slot":"sidebar",children:[t.jsx("div",{className:v("relative h-svh w-(--sidebar-width) bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",r==="floating"||r==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4)))]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon)")}),t.jsx("div",{className:v("fixed inset-y-0 z-10 hidden h-svh w-(--sidebar-width) transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",r==="floating"||r==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+(--spacing(4))+2px)]":"group-data-[collapsible=icon]:w-(--sidebar-width-icon) group-data-[side=left]:border-r group-data-[side=right]:border-l",a),...o,children:t.jsx("div",{"data-sidebar":"sidebar",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:n})})]})}function hn({className:e,onClick:r,...s}){const{toggleSidebar:a}=A();return t.jsxs(M,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:v("h-7 w-7",e),onClick:n=>{r==null||r(n),a()},...s,children:[t.jsx(nr,{}),t.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function pn({className:e,...r}){return t.jsx("main",{"data-slot":"sidebar-inset",className:v("bg-background relative flex max-w-full min-h-svh flex-1 flex-col","peer-data-[variant=inset]:min-h-[calc(100svh-(--spacing(4)))] md:peer-data-[variant=inset]:m-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow-sm md:peer-data-[variant=inset]:peer-data-[state=collapsed]:ml-0",e),...r})}function be({className:e,...r}){return t.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:v("flex flex-col gap-2 p-2",e),...r})}function ve({className:e,...r}){return t.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:v("flex flex-col gap-2 p-2",e),...r})}function je({className:e,...r}){return t.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:v("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",e),...r})}function st({className:e,...r}){return t.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:v("relative flex w-full min-w-0 flex-col p-2",e),...r})}function Xr({className:e,asChild:r=!1,...s}){const a=r?oe:"div";return t.jsx(a,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:v("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...s})}function Gr({className:e,...r}){return t.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:v("w-full text-sm",e),...r})}function T({className:e,...r}){return t.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:v("flex w-full min-w-0 flex-col gap-1",e),...r})}function E({className:e,...r}){return t.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:v("group/menu-item relative",e),...r})}const Vr=ft("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:size-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}}),z=c.forwardRef(function({asChild:r=!1,isActive:s=!1,variant:a="default",size:n="default",tooltip:o,className:l,...i},d){const f=r?oe:"button",{isMobile:p,state:h}=A(),u=t.jsx(f,{ref:d,"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":n,"data-active":s,className:v(Vr({variant:a,size:n}),l),...i});return o?(typeof o=="string"&&(o={children:o}),t.jsxs(Pr,{children:[t.jsx(Or,{asChild:!0,children:u}),t.jsx($r,{side:"right",align:"center",hidden:h!=="collapsed"||p,...o})]})):u});z.displayName="SidebarMenuButton";function Kr({iconNode:e,className:r,...s}){return t.jsx(e,{className:v("h-4 w-4",r),...s})}function K(){const{auth:e}=X().props;return e}function ce(){return{hasRole:(r,s)=>r!=null&&r.roles?r.roles.some(a=>a.name===s):!1}}function Wr({items:e,className:r,...s}){const{user:a}=K(),{hasRole:n}=ce();return t.jsx(st,{...s,className:`group-data-[collapsible=icon]:p-0 ${r||""}`,children:t.jsx(Gr,{children:t.jsx(T,{children:e.map(o=>o.roles&&!o.roles.some(l=>n(a,l))?null:t.jsx(E,{children:t.jsx(z,{asChild:!0,className:`text-neutral-600 hover:text-neutral-800 dark:text-neutral-300 dark:hover:text-neutral-100 ${o.className||""}`,children:t.jsxs("a",{href:o.href,target:"_blank",rel:"noopener noreferrer",children:[o.icon&&t.jsx(Kr,{iconNode:o.icon,className:"h-5 w-5"}),t.jsx("span",{children:o.title})]})})},o.title))})})})}function Yr({items:e=[]}){const r=X();return t.jsxs(st,{className:"px-2 py-0",children:[t.jsx(Xr,{children:"Pages"}),t.jsx(T,{children:e.map(s=>t.jsx(E,{children:t.jsx(z,{asChild:!0,isActive:s.href===r.url,tooltip:{children:s.title},children:t.jsxs(te,{href:s.href,prefetch:!0,children:[s.icon&&t.jsx(s.icon,{}),t.jsx("span",{children:s.title})]})})},s.title))})]})}function Zr(e,r=[]){let s=[];function a(o,l){const i=c.createContext(l);i.displayName=o+"Context";const d=s.length;s=[...s,l];const f=h=>{var j;const{scope:u,children:m,...g}=h,b=((j=u==null?void 0:u[e])==null?void 0:j[d])||i,w=c.useMemo(()=>g,Object.values(g));return t.jsx(b.Provider,{value:w,children:m})};f.displayName=o+"Provider";function p(h,u){var b;const m=((b=u==null?void 0:u[e])==null?void 0:b[d])||i,g=c.useContext(m);if(g)return g;if(l!==void 0)return l;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[f,p]}const n=()=>{const o=s.map(l=>c.createContext(l));return function(i){const d=(i==null?void 0:i[e])||o;return c.useMemo(()=>({[`__scope${e}`]:{...i,[e]:d}}),[i,d])}};return n.scopeName=e,[a,Jr(n,...r)]}function Jr(...e){const r=e[0];if(e.length===1)return r;const s=()=>{const a=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(o){const l=a.reduce((i,{useScope:d,scopeName:f})=>{const h=d(o)[`__scope${f}`];return{...i,...h}},{});return c.useMemo(()=>({[`__scope${r.scopeName}`]:l}),[l])}};return s.scopeName=r.scopeName,s}var Qr=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],de=Qr.reduce((e,r)=>{const s=mt(`Primitive.${r}`),a=c.forwardRef((n,o)=>{const{asChild:l,...i}=n,d=l?s:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(d,{...i,ref:o})});return a.displayName=`Primitive.${r}`,{...e,[r]:a}},{}),Q={exports:{}},ee={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var we;function es(){if(we)return ee;we=1;var e=ut();function r(h,u){return h===u&&(h!==0||1/h===1/u)||h!==h&&u!==u}var s=typeof Object.is=="function"?Object.is:r,a=e.useState,n=e.useEffect,o=e.useLayoutEffect,l=e.useDebugValue;function i(h,u){var m=u(),g=a({inst:{value:m,getSnapshot:u}}),b=g[0].inst,w=g[1];return o(function(){b.value=m,b.getSnapshot=u,d(b)&&w({inst:b})},[h,m,u]),n(function(){return d(b)&&w({inst:b}),h(function(){d(b)&&w({inst:b})})},[h]),l(m),m}function d(h){var u=h.getSnapshot;h=h.value;try{var m=u();return!s(h,m)}catch{return!0}}function f(h,u){return u()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:i;return ee.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,ee}var ye;function ts(){return ye||(ye=1,Q.exports=es()),Q.exports}var rs=ts();function ss(){return rs.useSyncExternalStore(ns,()=>!0,()=>!1)}function ns(){return()=>{}}var ue="Avatar",[as]=Zr(ue),[os,nt]=as(ue),at=c.forwardRef((e,r)=>{const{__scopeAvatar:s,...a}=e,[n,o]=c.useState("idle");return t.jsx(os,{scope:s,imageLoadingStatus:n,onImageLoadingStatusChange:o,children:t.jsx(de.span,{...a,ref:r})})});at.displayName=ue;var ot="AvatarImage",it=c.forwardRef((e,r)=>{const{__scopeAvatar:s,src:a,onLoadingStatusChange:n=()=>{},...o}=e,l=nt(ot,s),i=is(a,o),d=_t(f=>{n(f),l.onImageLoadingStatusChange(f)});return re(()=>{i!=="idle"&&d(i)},[i,d]),i==="loaded"?t.jsx(de.img,{...o,ref:r,src:a}):null});it.displayName=ot;var lt="AvatarFallback",ct=c.forwardRef((e,r)=>{const{__scopeAvatar:s,delayMs:a,...n}=e,o=nt(lt,s),[l,i]=c.useState(a===void 0);return c.useEffect(()=>{if(a!==void 0){const d=window.setTimeout(()=>i(!0),a);return()=>window.clearTimeout(d)}},[a]),l&&o.imageLoadingStatus!=="loaded"?t.jsx(de.span,{...n,ref:r}):null});ct.displayName=lt;function Ne(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function is(e,{referrerPolicy:r,crossOrigin:s}){const a=ss(),n=c.useRef(null),o=a?(n.current||(n.current=new window.Image),n.current):null,[l,i]=c.useState(()=>Ne(o,e));return re(()=>{i(Ne(o,e))},[o,e]),re(()=>{const d=h=>()=>{i(h)};if(!o)return;const f=d("loaded"),p=d("error");return o.addEventListener("load",f),o.addEventListener("error",p),r&&(o.referrerPolicy=r),typeof s=="string"&&(o.crossOrigin=s),()=>{o.removeEventListener("load",f),o.removeEventListener("error",p)}},[o,s,r]),l}var ls=at,cs=it,ds=ct;function Se({className:e,...r}){return t.jsx(ls,{"data-slot":"avatar",className:v("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...r})}function us({className:e,...r}){return t.jsx(cs,{"data-slot":"avatar-image",className:v("aspect-square size-full",e),...r})}function ke({className:e,...r}){return t.jsx(ds,{"data-slot":"avatar-fallback",className:v("bg-muted flex size-full items-center justify-center rounded-full",e),...r})}function fs(){return c.useCallback((e,r)=>!e&&!r?"":r?e?`${e.charAt(0)}${r.charAt(0)}`.toUpperCase():r.charAt(0).toUpperCase():e.charAt(0).toUpperCase(),[])}function ae({user:e,showEmail:r=!1}){const s=fs();return e?t.jsxs(t.Fragment,{children:[t.jsxs(Se,{className:"h-8 w-8 overflow-hidden rounded-full",children:[t.jsx(us,{src:e.avatar,alt:`${e.first_name} ${e.last_name}`}),t.jsx(ke,{className:"rounded-lg bg-neutral-200 text-black dark:bg-neutral-700 dark:text-white",children:s(e.first_name,e.last_name)})]}),t.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[t.jsxs("span",{className:"truncate font-medium",children:[e.first_name," ",e.last_name]}),r&&t.jsx("span",{className:"text-muted-foreground truncate text-xs",children:e.email})]})]}):t.jsxs(t.Fragment,{children:[t.jsx(Se,{className:"h-8 w-8 overflow-hidden rounded-full",children:t.jsx(ke,{className:"rounded-lg bg-neutral-200 text-black dark:bg-neutral-700 dark:text-white",children:"?"})}),t.jsx("div",{className:"grid flex-1 text-left text-sm leading-tight",children:t.jsx("span",{className:"truncate font-medium text-muted-foreground",children:"Guest"})})]})}function ms(){return c.useCallback(()=>{document.body.style.removeProperty("pointer-events")},[])}function hs({user:e}){const r=ms(),s=()=>{r(),O.flushAll()};return t.jsxs(t.Fragment,{children:[t.jsx(Oe,{className:"p-0 font-normal",children:t.jsx("div",{className:"flex items-center gap-2 px-1 py-1.5 text-left text-sm",children:t.jsx(ae,{user:e,showEmail:!0})})}),t.jsx(U,{}),t.jsx(Ct,{children:t.jsx(q,{asChild:!0,children:t.jsxs(te,{className:"block w-full",href:route("profile.edit"),as:"button",prefetch:!0,onClick:r,children:[t.jsx(qe,{className:"mr-2"}),"Settings"]})})}),t.jsx(U,{}),t.jsx(q,{asChild:!0,children:t.jsxs(te,{className:"block w-full",method:"post",href:route("logout"),as:"button",onClick:s,children:[t.jsx(rr,{className:"mr-2"}),"Log out"]})})]})}function Ce(){const{auth:e}=X().props,{state:r}=A(),s=Xe(),a=(e==null?void 0:e.user)??null;return t.jsx(T,{children:t.jsx(E,{children:a?t.jsxs($e,{children:[t.jsx(ze,{asChild:!0,children:t.jsxs(z,{size:"lg",className:"text-sidebar-accent-foreground data-[state=open]:bg-sidebar-accent group",children:[t.jsx(ae,{user:a}),t.jsx(Jt,{className:"ml-auto size-4"})]})}),t.jsx(He,{className:"w-(--radix-dropdown-menu-trigger-width) min-w-56 rounded-lg",align:"end",side:s?"bottom":r==="collapsed"?"left":"bottom",children:t.jsx(hs,{user:a})})]}):t.jsx(z,{size:"lg",className:"text-sidebar-accent-foreground cursor-default",children:t.jsx(ae,{user:null})})})})}function ps({teams:e=[],onTeamSwitch:r,defaultTeam:s}){const{isMobile:a,state:n}=A(),{user:o}=K(),{hasRole:l}=ce(),i=c.useMemo(()=>e.length?e.find(f=>f.slug===s)||e[0]:null,[e,s]),d=f=>{O.visit(`/${f.slug}/dashboard`),r==null||r(f)};return i?t.jsx(T,{children:t.jsx(E,{children:t.jsxs($e,{children:[t.jsx(ze,{asChild:!0,children:t.jsxs(M,{variant:"ghost",className:n==="collapsed"?"w-full justify-center":"w-full justify-between",children:[t.jsxs("div",{className:n==="collapsed"?"flex items-center justify-center":"flex items-center gap-2",children:[typeof i.logo=="string"?t.jsx("img",{src:i.logo,alt:"",className:"size-8 shrink-0 rounded-md object-contain"}):t.jsx(i.logo,{}),n==="expanded"&&t.jsxs("div",{className:"flex flex-col items-start",children:[t.jsx("span",{className:"text-sm font-medium",children:i.name}),t.jsx("span",{className:"text-xs text-muted-foreground",children:i.plan})]})]}),n==="expanded"&&t.jsx(Mt,{className:"h-4 w-4"})]})}),t.jsxs(He,{className:"w-56",children:[t.jsx(Oe,{children:"Switch Organization"}),t.jsx(U,{}),e.map(f=>t.jsx(q,{onClick:()=>d(f),className:"cursor-pointer",children:t.jsxs("div",{className:"flex items-center gap-2",children:[typeof f.logo=="string"?t.jsx("img",{src:f.logo,alt:"",className:"size-8 shrink-0 rounded-md object-contain"}):t.jsx(f.logo,{}),t.jsxs("div",{className:"flex flex-col",children:[t.jsx("span",{className:"text-sm font-medium",children:f.name}),t.jsx("span",{className:"text-xs text-muted-foreground",children:f.plan})]})]})},f.slug)),l(o,"superadmin")&&t.jsxs(t.Fragment,{children:[t.jsx(U,{}),t.jsx(q,{asChild:!0,children:t.jsx("a",{href:route("tenants.index"),children:"Manage Organizations"})})]})]})]})})}):t.jsx(T,{children:t.jsx(E,{children:t.jsx(M,{variant:"ghost",className:"w-full justify-between",disabled:!0,children:t.jsx("div",{className:"flex items-center gap-2",children:t.jsx("span",{className:"text-sm font-medium",children:"No organizations available"})})})})})}function F(e,r){const s=k(e),a=k(r),n=s.getTime()-a.getTime();return n<0?-1:n>0?1:n}function xs(e){return Rt(e,Date.now())}function gs(e){return r=>{const a=(e?Math[e]:Math.trunc)(r);return a===0?0:a}}function bs(e,r){return+k(e)-+k(r)}function vs(e){const r=k(e);return r.setHours(23,59,59,999),r}function js(e){const r=k(e);return+vs(r)==+It(r)}function ws(e,r){const s=k(e),a=k(r),n=F(s,a),o=Math.abs(Pt(s,a));let l;if(o<1)l=0;else{s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-n*o);let i=F(s,a)===-n;js(k(e))&&o===1&&F(e,a)===1&&(i=!1),l=n*(o-Number(i))}return l===0?0:l}function ys(e,r,s){const a=bs(e,r)/1e3;return gs(s==null?void 0:s.roundingMethod)(a)}function Ns(e,r,s){const a=Lt(),n=(s==null?void 0:s.locale)??a.locale??Dt,o=2520,l=F(e,r);if(isNaN(l))throw new RangeError("Invalid time value");const i=Object.assign({},s,{addSuffix:s==null?void 0:s.addSuffix,comparison:l});let d,f;l>0?(d=k(r),f=k(e)):(d=k(e),f=k(r));const p=ys(f,d),h=(me(f)-me(d))/1e3,u=Math.round((p-h)/60);let m;if(u<2)return s!=null&&s.includeSeconds?p<5?n.formatDistance("lessThanXSeconds",5,i):p<10?n.formatDistance("lessThanXSeconds",10,i):p<20?n.formatDistance("lessThanXSeconds",20,i):p<40?n.formatDistance("halfAMinute",0,i):p<60?n.formatDistance("lessThanXMinutes",1,i):n.formatDistance("xMinutes",1,i):u===0?n.formatDistance("lessThanXMinutes",1,i):n.formatDistance("xMinutes",u,i);if(u<45)return n.formatDistance("xMinutes",u,i);if(u<90)return n.formatDistance("aboutXHours",1,i);if(u<he){const g=Math.round(u/60);return n.formatDistance("aboutXHours",g,i)}else{if(u<o)return n.formatDistance("xDays",1,i);if(u<B){const g=Math.round(u/he);return n.formatDistance("xDays",g,i)}else if(u<B*2)return m=Math.round(u/B),n.formatDistance("aboutXMonths",m,i)}if(m=ws(f,d),m<12){const g=Math.round(u/B);return n.formatDistance("xMonths",g,i)}else{const g=m%12,b=Math.trunc(m/12);return g<3?n.formatDistance("aboutXYears",b,i):g<9?n.formatDistance("overXYears",b,i):n.formatDistance("almostXYears",b+1,i)}}function Ss(e,r){return Ns(e,xs(e),r)}const ks=e=>{const r=e.toLowerCase();return r.includes("user")||r.includes("profile")?Ot:r.includes("setting")?qe:r.includes("document")||r.includes("file")?Fe:r.includes("loan")||r.includes("payment")?$t:r.includes("transaction")?zt:r.includes("email")||r.includes("mail")?Ht:r.includes("security")||r.includes("permission")?Bt:r.includes("error")||r.includes("warning")?Ft:Wt},Cs=e=>{const r=e.toLowerCase();return r.includes("error")||r.includes("warning")?"text-red-500":r.includes("success")||r.includes("approved")?"text-green-500":r.includes("update")||r.includes("modified")?"text-blue-500":r.includes("create")||r.includes("new")?"text-purple-500":r.includes("delete")||r.includes("remove")?"text-orange-500":"text-gray-500"},_e=()=>t.jsxs("div",{className:"flex items-start gap-2 rounded-md border p-2",children:[t.jsx(L,{className:"h-1.5 w-1.5 rounded-full mt-1"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsx(L,{className:"h-4 w-24"}),t.jsxs("div",{className:"flex gap-1",children:[t.jsx(L,{className:"h-6 w-6"}),t.jsx(L,{className:"h-6 w-6"})]})]}),t.jsx(L,{className:"h-3 w-48 mt-1"}),t.jsx(L,{className:"h-2 w-20 mt-0.5"})]})]});function _s({unreadCount:e}){const{props:r}=X(),{state:s}=A(),[a,n]=c.useState(null),[o,l]=c.useState(!1),[i,d]=c.useState(!1),{user:f}=K(),p=c.useRef(null),h=Et();Be();const u=async(x=1)=>{var y,_,N;l(!0);try{let S=((y=document.querySelector('meta[name="csrf-token"]'))==null?void 0:y.getAttribute("content"))||((_=document.querySelector('meta[name="csrf"]'))==null?void 0:_.getAttribute("content"))||((N=document.querySelector('meta[name="csrf-param"]'))==null?void 0:N.getAttribute("content"));if(!S){const fe=document.cookie.split(";").find(dt=>dt.trim().startsWith("XSRF-TOKEN="));fe&&(S=decodeURIComponent(fe.split("=")[1]))}if(!S)throw new Error("CSRF token not found in meta tags or cookies");const P=await fetch(h.route("activity.user-notifications"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":S,"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({page:x}),credentials:"same-origin"});if(!P.ok)throw new Error("Failed to load activities");const R=(await P.json()).activities;n(W=>W?{...R,data:[...W.data,...R.data],links:R.links,current_page:R.current_page,last_page:R.last_page}:R)}catch(S){console.error("Failed to load activities:",S)}finally{l(!1)}};c.useEffect(()=>{i&&!a&&u()},[i]),c.useEffect(()=>{const x=new IntersectionObserver(y=>{y[0].isIntersecting&&a&&!o&&a.current_page<a.last_page&&u(a.current_page+1)},{threshold:.1});return p.current&&x.observe(p.current),()=>x.disconnect()},[a,o]);const m=x=>{console.log("Mark as read:",x)},g=x=>{console.log("Mark as unread:",x)},b=x=>{console.log("Delete:",x)},w=async()=>{var x;try{const y=(x=document.querySelector('meta[name="csrf-token"]'))==null?void 0:x.getAttribute("content");if(!y)throw new Error("CSRF token not found");if(!(await fetch(h.route("activity.user.reset-counter"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":y,"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"})).ok)throw new Error("Failed to reset counter");n(N=>N&&{...N,data:N.data.map(S=>({...S,properties:{...S.properties,read:!0}}))}),O.reload()}catch(y){console.error("Failed to reset counter:",y)}},j=s==="collapsed";return t.jsxs(Te,{open:i,onOpenChange:d,children:[t.jsx(ht,{asChild:!0,children:t.jsxs(M,{variant:"ghost",className:v("relative",j?"size-8 shrink-0 justify-center p-0":"w-full justify-start gap-2"),"aria-label":"Notifications",children:[t.jsx(Ue,{className:"size-4 shrink-0"}),!j&&t.jsx("span",{children:"Inbox"}),e>0&&t.jsx("span",{className:v("flex h-5 min-w-5 items-center justify-center rounded-full bg-red-500 text-[10px] text-white",j?"absolute -right-0.5 -top-0.5 px-1":"ml-auto px-1.5"),children:e})]})}),t.jsxs(Le,{side:"left",children:[t.jsxs(Ae,{className:"space-y-2",children:[t.jsx(Re,{children:"Notifications"}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(De,{children:"View and manage your notifications"}),e>0&&t.jsx(M,{variant:"ghost",size:"sm",onClick:w,className:"text-xs",children:"Mark all as read"})]})]}),t.jsxs("div",{className:"mt-2 space-y-1",children:[a==null?void 0:a.data.map(x=>{var S;const y=ks(x.description),_=Cs(x.description),N=(S=x.properties)==null?void 0:S.read;return t.jsxs("div",{className:v("flex items-start gap-2 rounded-md border p-2 hover:bg-muted/50 transition-colors",!N&&"bg-muted/30"),children:[t.jsx("div",{className:"mt-1",children:N?t.jsx(Y,{className:"size-1.5 text-muted-foreground"}):t.jsx(Y,{className:"size-1.5 fill-primary text-primary"})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-start justify-between gap-2",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:v("rounded-full p-1",_),children:t.jsx(y,{className:"h-3.5 w-3.5"})}),t.jsx("p",{className:"text-sm font-medium truncate",children:x.causer&&x.causer.id===f.id?"You":"System (Admin)"})]}),t.jsxs("div",{className:"flex gap-1 shrink-0",children:[N?t.jsx(M,{variant:"ghost",size:"icon",onClick:()=>g(x.id),className:"h-6 w-6",children:t.jsx(Y,{className:"size-3"})}):t.jsx(M,{variant:"ghost",size:"icon",onClick:()=>m(x.id),className:"h-6 w-6",children:t.jsx(Tt,{className:"size-3"})}),t.jsx(M,{variant:"ghost",size:"icon",onClick:()=>b(x.id),className:"h-6 w-6",children:t.jsx(At,{className:"size-3"})})]})]}),t.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mt-0.5",children:x.description}),t.jsx("p",{className:"text-[10px] text-muted-foreground mt-0.5",children:Ss(new Date(x.created_at),{addSuffix:!0})})]})]},x.id)}),o&&t.jsxs(t.Fragment,{children:[t.jsx(_e,{}),t.jsx(_e,{})]}),t.jsx("div",{ref:p,className:"h-4"})]})]})]})}function Ms(e){return!e||typeof e!="string"?null:`/storage/${e.startsWith("public/")?e.slice(7):e}`}const Es=c.memo(function(){return t.jsx(Gt,{className:"size-4 shrink-0"})}),Me=c.memo(function({teams:r,onTeamSwitch:s,defaultTeam:a}){return t.jsx(ps,{teams:r,onTeamSwitch:s,defaultTeam:a})}),xn=c.memo(function(){var u;const{user:r}=K(),{hasRole:s}=ce(),{notifications:a,effectiveTenant:n,tenants:o,preferences:l}=Be(),{state:i}=A();console.log("Notif",a);const d=c.useMemo(()=>o.map(m=>{const g=Ms(m.logo??null);return{name:m.name,logo:g??Es,plan:s(r,"superadmin")?"Admin":"User",slug:m.slug}}),[o,r,s]),f=m=>{O.visit(`/${m.slug}/dashboard`,{preserveState:!1,preserveScroll:!1,only:["tenant","preferences"]})},p=c.useMemo(()=>[{title:"Dashboard",href:`/${n==null?void 0:n.slug}/dashboard`,icon:pe},{title:"Products",href:`/${n==null?void 0:n.slug}/products`,icon:cr},{title:"KYC",href:`/${n==null?void 0:n.slug}/kyc`,icon:Fe},{title:"Script",href:`/${n==null?void 0:n.slug}/script`,icon:or},{title:"HR",href:`/${n==null?void 0:n.slug}/hr`,icon:qt},{title:"Assets",href:`/${n==null?void 0:n.slug}/assets`,icon:Ut},{title:"Transactions",href:`/${n==null?void 0:n.slug}/transactions`,icon:Xt},{title:"Notifications",href:`/${n==null?void 0:n.slug}/activity`,icon:Ue},{title:"Loan Packages",href:`/${n==null?void 0:n.slug}/loan-packages`,icon:Z},{title:"My Loans",href:`/${n==null?void 0:n.slug}/loans`,icon:Z},{title:"Borrows",href:`/${n==null?void 0:n.slug}/borrows`,icon:Z},{title:"Tickets",href:`/${n==null?void 0:n.slug}/tickets`,icon:xe}],[n==null?void 0:n.slug]),h=[{title:"Admin",href:"/admin/dashboard",icon:fr,className:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-md",roles:["superadmin","admin","manager"]},{title:"Ticket Support",href:"/admin/tickets",icon:xe,className:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/30 border border-blue-200 dark:border-blue-800 rounded-md",roles:["support"]}];return n!=null&&n.slug?t.jsxs(ge,{collapsible:"icon",variant:"inset",className:"border-r border-border",children:[t.jsx(be,{className:"border-b border-border",children:t.jsxs(T,{children:[t.jsx(E,{children:t.jsx(Me,{teams:d,onTeamSwitch:f,defaultTeam:n.slug})}),t.jsx(E,{children:n&&t.jsxs("div",{children:[t.jsxs(M,{variant:"ghost",className:v(i==="collapsed"?"size-8 shrink-0 justify-center p-0":"w-full justify-start gap-2"),onClick:()=>O.visit(`/${n.slug}/dashboard`),children:[t.jsx(pe,{className:"size-4"}),i==="expanded"&&t.jsx("span",{children:"Dashboard"})]}),t.jsx(_s,{unreadCount:a.unread_count})]})})]})}),t.jsx(je,{children:t.jsx(Yr,{items:p.filter(m=>m.title!=="Dashboard")})}),t.jsxs(ve,{className:"border-t border-border",children:[s(r,"user")?"":t.jsx(Wr,{items:h,className:"mt-auto"}),t.jsx(Ce,{})]})]}):t.jsxs(ge,{collapsible:"icon",variant:"inset",className:"border-r border-border",children:[t.jsx(be,{className:"border-b border-border",children:t.jsx(T,{children:t.jsx(E,{children:t.jsx(Me,{teams:d,onTeamSwitch:f,defaultTeam:l!=null&&l.last_tenant_id?(u=o.find(m=>String(m.id)===String(l.last_tenant_id)))==null?void 0:u.slug:void 0})})})}),t.jsx(je,{children:t.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Please select an organization to continue"})}),t.jsx(ve,{children:t.jsx(Ce,{})})]})});function gn({...e}){return t.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...e})}function bn({className:e,...r}){return t.jsx("ol",{"data-slot":"breadcrumb-list",className:v("text-muted-foreground flex flex-wrap items-center gap-1.5 text-sm break-words sm:gap-2.5",e),...r})}function vn({className:e,...r}){return t.jsx("li",{"data-slot":"breadcrumb-item",className:v("inline-flex items-center gap-1.5",e),...r})}function jn({asChild:e,className:r,...s}){const a=e?oe:"a";return t.jsx(a,{"data-slot":"breadcrumb-link",className:v("hover:text-foreground transition-colors",r),...s})}function wn({className:e,...r}){return t.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:v("text-foreground font-normal",e),...r})}function yn({children:e,className:r,...s}){return t.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:v("[&>svg]:size-3.5",r),...s,children:e??t.jsx(Vt,{})})}export{Wt as A,gn as B,Y as C,Z as H,qe as S,Pr as T,mn as a,xn as b,pn as c,hn as d,bn as e,Ss as f,vn as g,jn as h,yn as i,wn as j,Ue as k,Se as l,us as m,ke as n,Or as o,$r as p,or as q,ts as r,K as u};
