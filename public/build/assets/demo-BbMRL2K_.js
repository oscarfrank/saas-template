const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DBGFIwvf.js","assets/app-DU4M08QO.js","assets/app-CsR06rKs.css","assets/index-CY-eh05M.js","assets/index-Ba8EDFfi.js","assets/button-0DWS1uOF.js","assets/utils-DawFQoOT.js","assets/index-Dax8b012.js","assets/index-DdLmsglv.js","assets/breadcrumb-BSvnjDea.js","assets/input-z-FCfDx3.js","assets/sheet-CHL5JyIf.js","assets/index-ksG8cN4f.js","assets/index-DWOVOz5G.js","assets/index-BfArzEZR.js","assets/index-BuAmfKhH.js","assets/index-DVV6TkzN.js","assets/x-DVBtjuUJ.js","assets/createLucideIcon-Kjqtfux8.js","assets/index-Dy8zP7tC.js","assets/dropdown-menu-BSZHQ9yV.js","assets/index-C31rQuzh.js","assets/index-ELRl1PxQ.js","assets/check-CljcYcVc.js","assets/chevron-down-DOpVs1Mm.js","assets/skeleton-DeAfgcQK.js","assets/use-effective-tenant-6xYuTafE.js","assets/use-tenant-router-mhkU5Kgb.js","assets/trash-2-C9dHTECi.js","assets/en-US-DSSwd-Ay.js","assets/endOfMonth-BNqLjwTF.js","assets/user-tVN0-8fp.js","assets/file-text-BaK0CXIP.js","assets/dollar-sign-DzSGN3WH.js","assets/credit-card-CRs7L-78.js","assets/mail-CwNPBuud.js","assets/shield-IA8j3DE0.js","assets/circle-alert-CvqXQmI-.js","assets/package-ChfYgdRA.js","assets/users-Cd4kg-Sk.js","assets/wallet-CqZJpKq_.js","assets/building-2-CdICHkKN.js","assets/chevron-right-CrQYE_m4.js","assets/index-rHsITjXj.js","assets/textarea-C7BpPhvr.js","assets/popover-DnY4cizK.js","assets/sparkles-2o11wxry.js","assets/loader-circle-DVSrobF0.js","assets/card-CIVp5v17.js","assets/index-CauSx3qW.css"])))=>i.map(i=>d[i]);
var ie=Object.defineProperty;var ne=(a,o,i)=>o in a?ie(a,o,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[o]=i;var G=(a,o,i)=>ne(a,typeof o!="symbol"?o+"":o,i);import{r as n,u as le,j as e,H as ce,_ as de}from"./app-DU4M08QO.js";import{A as me}from"./app-layout-CWJDu2yd.js";import{B as d}from"./button-0DWS1uOF.js";import{I as pe}from"./input-z-FCfDx3.js";import{S as U,e as he,d as _,a as I,b as F,c as q}from"./sheet-CHL5JyIf.js";import{P as xe,a as ue,b as fe}from"./popover-DnY4cizK.js";import{C as ge}from"./checkbox-DTiYXd0I.js";import{T as X}from"./textarea-C7BpPhvr.js";import{t as je}from"./index-rHsITjXj.js";import{S as ye}from"./sparkles-2o11wxry.js";import{F as Ne}from"./file-text-BaK0CXIP.js";import{E as ve}from"./eye-D_ezS_fh.js";import{L as be}from"./list-IQ6t5S2n.js";import{C as we}from"./check-CljcYcVc.js";import{X as Te}from"./x-DVBtjuUJ.js";import{C as H}from"./copy-BN2A73P-.js";import{S as Se}from"./save-CnNvfYjP.js";import{D as Ce}from"./download-BIjBKN6h.js";import{U as ke}from"./upload-D7rGJ4dO.js";import{C as Ee}from"./circle-alert-CvqXQmI-.js";/* empty css            */import"./breadcrumb-BSvnjDea.js";import"./utils-DawFQoOT.js";import"./index-Ba8EDFfi.js";import"./index-BfArzEZR.js";import"./index-Dax8b012.js";import"./index-DWOVOz5G.js";import"./index-CY-eh05M.js";import"./index-DdLmsglv.js";import"./index-BuAmfKhH.js";import"./index-DVV6TkzN.js";import"./index-Dy8zP7tC.js";import"./createLucideIcon-Kjqtfux8.js";import"./dropdown-menu-BSZHQ9yV.js";import"./index-C31rQuzh.js";import"./index-ELRl1PxQ.js";import"./chevron-down-DOpVs1Mm.js";import"./skeleton-DeAfgcQK.js";import"./use-effective-tenant-6xYuTafE.js";import"./use-tenant-router-mhkU5Kgb.js";import"./trash-2-C9dHTECi.js";import"./en-US-DSSwd-Ay.js";import"./endOfMonth-BNqLjwTF.js";import"./user-tVN0-8fp.js";import"./dollar-sign-DzSGN3WH.js";import"./credit-card-CRs7L-78.js";import"./mail-CwNPBuud.js";import"./shield-IA8j3DE0.js";import"./package-ChfYgdRA.js";import"./users-Cd4kg-Sk.js";import"./wallet-CqZJpKq_.js";import"./building-2-CdICHkKN.js";import"./chevron-right-CrQYE_m4.js";import"./sonner-Dh23Qk9O.js";import"./index-ksG8cN4f.js";import"./index-sRFl2c6N.js";class De extends n.Component{constructor(){super(...arguments);G(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(i){return{hasError:!0,error:i}}componentDidCatch(i,s){console.error("BlockNote editor error:",i,s.componentStack)}render(){return this.state.hasError&&this.state.error?this.props.fallback?this.props.fallback:e.jsxs("div",{className:"min-h-[400px] rounded-md border border-destructive/50 bg-destructive/10 p-4 text-destructive",role:"alert",children:[e.jsxs("p",{className:"font-medium flex items-center gap-2",children:[e.jsx(Ee,{className:"h-4 w-4 shrink-0"}),"Editor failed to load"]}),e.jsx("p",{className:"mt-2 text-sm opacity-90",children:this.state.error.message}),e.jsxs("p",{className:"mt-2 text-xs opacity-75",children:["If you recently upgraded, try ",e.jsx("code",{className:"bg-muted px-1 rounded",children:"npm install"})," and refresh. BlockNote 0.46+ is required for React 19."]})]}):this.props.children}}function Oe(a){const[o,i]=n.useState(null),[s,h]=n.useState(null);return n.useEffect(()=>{de(()=>import("./index-DBGFIwvf.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49])).then(p=>i(()=>p.BlockNoteEditor)).catch(p=>h((p==null?void 0:p.message)??"Failed to load editor"))},[]),s?e.jsxs("div",{className:"min-h-[400px] rounded-md border border-destructive/50 bg-destructive/10 p-4 text-destructive",children:["Editor failed to load: ",s]}):o?e.jsx(o,{...a}):e.jsx("div",{className:"min-h-[60vh] bg-muted/20 animate-pulse","aria-label":"Editor loading"})}function M(a){if(!(a!=null&&a.length))return"";function o(s){return typeof s=="string"?s:s.type==="text"&&typeof s.text=="string"?s.text:s.type==="link"&&Array.isArray(s.content)?s.content.map(o).join(""):""}function i(s){const h=[],p=s.content;return Array.isArray(p)&&h.push(p.map(o).join("")),Array.isArray(s.children)&&s.children.length&&h.push(s.children.map(i).join(`
`)),h.filter(Boolean).join(`
`)}return a.map(i).filter(Boolean).join(`

`)}const S=500,Ae=[{id:"emotional",label:"Emotional",description:"Appeal to feelings"},{id:"urgency",label:"Urgency",description:"Create FOMO, act now"},{id:"curiosity",label:"Curiosity",description:"Tease without giving away"},{id:"how-to",label:"How-to",description:"Clear, instructional"},{id:"listicle",label:"Listicle",description:"Numbers and lists"},{id:"question",label:"Question",description:"Pose a question"},{id:"provocative",label:"Provocative",description:"Bold or controversial"}];function zt(){const[a,o]=n.useState([]),[i,s]=n.useState(""),[h,p]=n.useState([]),[N,V]=n.useState([]),[J,D]=n.useState(!1),[O,C]=n.useState(!1),[W,A]=n.useState(!1),[P,v]=n.useState(null),[$,b]=n.useState(!1),[u,k]=n.useState(null),[R,E]=n.useState(!1),[L,w]=n.useState(null),{data:Pe,setData:T}=le({title:"My Document",content:null}),K=t=>{o(t),T("content",t)},Y=()=>{console.log("Saving content:",a)},Q=t=>{V(r=>r.includes(t)?r.filter(c=>c!==t):[...r,t])},Z=async()=>{var m;if(N.length===0)return;D(!1),C(!0),v(null);const t=M(a),r=window.route("editor.generate-title-ideas"),c=((m=document.querySelector('meta[name="csrf-token"]'))==null?void 0:m.content)??"";try{const x=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":c,"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({content:t||"(No content yet â€” add some in the editor below.)",styles:N})}),f=await x.json().catch(()=>({}));if(!x.ok){v(f.message??"Failed to generate ideas."),C(!1);return}const l=(Array.isArray(f.titles)?f.titles:[]).map(g=>({id:crypto.randomUUID(),text:typeof g.title=="string"?g.title:"",thumbnailText:typeof g.thumbnailText=="string"?g.thumbnailText:void 0}));p(g=>[...g,...l]),A(!0)}catch{v("Network or server error. Please try again.")}finally{C(!1)}},ee=t=>{s(t.text),T("title",t.text)},te=t=>{p(r=>r.filter(c=>c.id!==t))},se=async()=>{var m,x,f;E(!0),w(null);const t=M(a),r=window.route("editor.generate-description-assets"),c=((m=document.querySelector('meta[name="csrf-token"]'))==null?void 0:m.content)??"";try{const y=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-TOKEN":c,"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({content:t||"(No content yet â€” add some in the editor below.)"})}),l=await y.json().catch(()=>({}));if(!y.ok){w(l.message??"Failed to generate."),E(!1);return}const g=typeof l.shortDescription=="string"?l.shortDescription:"",oe=Array.isArray(l.timestamps)?l.timestamps.map(j=>({time:typeof j.time=="string"?j.time:"",label:typeof j.label=="string"?j.label:""})):[],z=[g.trim(),"","::::::::::::::: ðŸŽ¬ Related Videos :::::::::::::::","video 1 - ","video 2 - ","video 3 - ","","::::::::::::::: â° Timestamps :::::::::::::::"];for(const j of oe)z.push(`${((x=j.time)==null?void 0:x.trim())??""} ${((f=j.label)==null?void 0:f.trim())??""}`.trim());k({descriptionBlock:z.join(`
`),metaTags:typeof l.metaTags=="string"?l.metaTags:""}),b(!0)}catch{w("Network or server error. Please try again.")}finally{E(!1)}},B=(t,r="Copied!")=>{navigator.clipboard.writeText(t).then(()=>je.success(r)).catch(()=>{})},re=()=>{const t=JSON.stringify(a,null,2),r=new Blob([t],{type:"application/json"}),c=URL.createObjectURL(r),m=document.createElement("a");m.href=c,m.download="document.json",m.click(),URL.revokeObjectURL(c)},ae=()=>{const t=document.createElement("input");t.type="file",t.accept="application/json",t.onchange=r=>{var m;const c=(m=r.target.files)==null?void 0:m[0];if(c){const x=new FileReader;x.onload=f=>{var y;try{const l=JSON.parse((y=f.target)==null?void 0:y.result);o(l),T("content",l)}catch(l){console.error("Error loading file:",l)}},x.readAsText(c)}},t.click()};return e.jsxs(me,{children:[e.jsx(ce,{title:i||"BlockNote Editor Demo"}),e.jsxs("div",{className:"w-full py-12 px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-2 flex flex-col gap-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(pe,{value:i,onChange:t=>{s(t.target.value),T("title",t.target.value)},placeholder:"Untitled",className:"min-w-[200px] max-w-2xl border-0 bg-transparent text-2xl font-semibold shadow-none placeholder:text-muted-foreground focus-visible:ring-0 md:text-3xl"}),e.jsxs(xe,{open:J,onOpenChange:t=>{D(t),t&&v(null)},children:[e.jsx(ue,{asChild:!0,children:e.jsxs(d,{type:"button",variant:"outline",size:"sm",className:"shrink-0",disabled:O,children:[e.jsx(ye,{className:"mr-2 h-4 w-4"}),O?"Generatingâ€¦":"Generate title ideas"]})}),e.jsx(fe,{className:"w-80",align:"start",side:"bottom",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium leading-none",children:"Choose title style"}),e.jsx("p",{className:"text-muted-foreground mt-1 text-sm",children:"Pick one or more. Weâ€™ll use your editor content to generate ideas (AI not connected yet)."})]}),e.jsx("div",{className:"grid gap-2 py-2",children:Ae.map(t=>e.jsxs("label",{className:"flex cursor-pointer items-start gap-3 rounded-md border border-transparent px-2 py-1.5 hover:bg-muted/50 has-[:checked]:bg-muted/30",children:[e.jsx(ge,{checked:N.includes(t.id),onCheckedChange:()=>Q(t.id)}),e.jsxs("div",{className:"grid gap-0.5 leading-none",children:[e.jsx("span",{className:"text-sm font-medium",children:t.label}),e.jsx("span",{className:"text-muted-foreground text-xs",children:t.description})]})]},t.id))}),e.jsx(d,{type:"button",size:"sm",className:"w-full",onClick:Z,disabled:N.length===0,children:"Generate ideas"})]})})]}),P&&e.jsx("p",{className:"text-destructive mt-1 text-sm",role:"alert",children:P}),e.jsxs(d,{type:"button",variant:"outline",size:"sm",className:"shrink-0",disabled:R,onClick:se,children:[e.jsx(Ne,{className:"mr-2 h-4 w-4"}),R?"Generatingâ€¦":"Description & more"]}),e.jsxs(d,{type:"button",variant:"ghost",size:"sm",className:"shrink-0",onClick:()=>b(!0),children:[e.jsx(ve,{className:"mr-2 h-4 w-4"}),"View description & tags"]}),L&&e.jsx("p",{className:"text-destructive mt-1 text-sm",role:"alert",children:L}),e.jsxs(U,{open:W,onOpenChange:A,children:[e.jsx(he,{asChild:!0,children:e.jsxs(d,{type:"button",variant:"ghost",size:"sm",className:"shrink-0",children:[e.jsx(be,{className:"mr-2 h-4 w-4"}),"View ideas",h.length>0&&e.jsx("span",{className:"ml-1.5 rounded-full bg-muted px-2 py-0.5 text-xs font-medium",children:h.length})]})}),e.jsxs(_,{side:"right",className:"w-full sm:max-w-md",children:[e.jsxs(I,{children:[e.jsx(F,{children:"Title ideas"}),e.jsx(q,{children:"Use one as the page title or remove ideas you donâ€™t want to keep."})]}),e.jsx("div",{className:"flex flex-1 flex-col gap-2 overflow-auto py-4",children:h.length===0?e.jsx("p",{className:"text-muted-foreground text-sm",children:"No ideas yet. Choose a title style and click â€œGenerate title ideasâ€ to create up to 5 titles with thumbnail text."}):h.map(t=>e.jsxs("div",{className:"flex items-start justify-between gap-2 rounded-lg border bg-muted/30 p-3",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:t.text}),t.thumbnailText&&e.jsx("p",{className:"text-muted-foreground mt-1 text-xs",children:t.thumbnailText})]}),e.jsxs("div",{className:"flex shrink-0 gap-1",children:[e.jsx(d,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>ee(t),title:"Use as title",children:e.jsx(we,{className:"h-4 w-4"})}),e.jsx(d,{type:"button",variant:"ghost",size:"icon",className:"h-8 w-8 text-muted-foreground hover:text-destructive",onClick:()=>te(t.id),title:"Remove",children:e.jsx(Te,{className:"h-4 w-4"})})]})]},t.id))})]})]}),e.jsx(U,{open:$,onOpenChange:t=>{b(t),t&&w(null)},children:e.jsxs(_,{side:"right",className:"flex w-full flex-col gap-0 sm:max-w-xl",children:[e.jsxs(I,{className:"px-6 pt-6 pb-4",children:[e.jsx(F,{children:"Description, timestamps & tags"}),e.jsx(q,{children:"Edit below. Copy description + videos + timestamps together, or meta tags separately."}),u&&e.jsxs(d,{type:"button",variant:"secondary",size:"sm",className:"mt-2 w-full sm:w-auto",onClick:()=>B(u.descriptionBlock),children:[e.jsx(H,{className:"mr-2 h-4 w-4"}),"Copy"]})]}),u?e.jsxs("div",{className:"flex flex-1 flex-col gap-6 overflow-y-auto px-6 pb-8 pt-2",children:[e.jsxs("section",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Description, related videos & timestamps"}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"Edit everything in one place, then copy above or from the box."}),e.jsx(X,{value:u.descriptionBlock,onChange:t=>k(r=>r?{...r,descriptionBlock:t.target.value}:null),rows:18,className:"min-h-[320px] resize-y font-sans text-sm leading-relaxed",placeholder:`Short descriptionâ€¦

::::::::::::::: ðŸŽ¬ Related Videos :::::::::::::::
video 1 -
video 2 -
video 3 -

::::::::::::::: â° Timestamps :::::::::::::::
0:00 Intro`})]}),e.jsxs("section",{className:"space-y-2 rounded-lg border border-border/60 bg-muted/10 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Meta tags"}),e.jsxs("span",{className:`text-xs tabular-nums ${u.metaTags.length>S?"text-destructive":"text-muted-foreground"}`,children:[u.metaTags.length," / ",S]})]}),e.jsx(X,{value:u.metaTags,onChange:t=>k(r=>r?{...r,metaTags:t.target.value.slice(0,S)}:null),maxLength:S,rows:3,className:"resize-y font-sans text-sm",placeholder:"tag1, tag2, tag3â€¦ (max 500 characters for YouTube)"}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(d,{type:"button",variant:"ghost",size:"sm",className:"h-8 text-xs",onClick:()=>B(u.metaTags,"Tags copied!"),children:[e.jsx(H,{className:"mr-1.5 h-3.5 w-3.5"}),"Copy tags"]})})]})]}):e.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-4 px-6 py-12 text-center",children:[e.jsx("p",{className:"text-muted-foreground text-sm",children:'Nothing generated yet. Use "Description & more" to generate from your script.'}),e.jsx(d,{type:"button",variant:"outline",size:"sm",onClick:()=>b(!1),children:"Close"})]})]})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(d,{onClick:Y,variant:"ghost",size:"sm",children:[e.jsx(Se,{className:"mr-2 h-4 w-4"}),"Save"]}),e.jsxs(d,{onClick:re,variant:"ghost",size:"sm",children:[e.jsx(Ce,{className:"mr-2 h-4 w-4"}),"Export"]}),e.jsxs(d,{onClick:ae,variant:"ghost",size:"sm",children:[e.jsx(ke,{className:"mr-2 h-4 w-4"}),"Load"]})]})]}),e.jsx(De,{children:e.jsx(Oe,{initialContent:a.length>0?a:void 0,onChange:K,placeholder:"Start typing or press '/' for commands..."})})]})]})}export{zt as default};
