import{r as x,j as n}from"./app-C6kPN11i.js";import{C as w}from"./card-BmLtWeUg.js";import{I as d}from"./input-DeRGwPqG.js";import{L as D}from"./label-DjBGQ4hv.js";import{B as j}from"./button-BpcDdXY5.js";import{T as F}from"./textarea-XQGu6FqI.js";import{S as q,a as E,b as P,c as R,d as V}from"./select-Ccun-8aA.js";/* empty css            */import"./utils-DawFQoOT.js";import"./index-BgupMaT4.js";import"./index-CNSJNdLA.js";import"./index-B6IO7GeI.js";import"./index-C7NICwH1.js";import"./index-D4LQi-WW.js";import"./index-BAwu540p.js";import"./index-qNm-4KWi.js";import"./index-DjhqQPoh.js";import"./index-DHeuMB84.js";import"./index-DhnENxrq.js";import"./chevron-down-B2X-k1Lh.js";import"./createLucideIcon-Btrq-JEB.js";import"./check-ClCxYYgj.js";function ee({fields:i,entityName:v,onSubmit:b,processing:p=!1,errors:s={}}){const[o,m]=x.useState(()=>{const e={};return i.forEach(t=>{t.defaultValue!==void 0&&(e[t.name]=t.defaultValue)}),e}),[l,u]=x.useState({}),g=e=>{e.preventDefault();const t=new FormData;Object.entries(o).forEach(([a,r])=>{r!=null&&t.append(a,r)}),b(t)},h=e=>{const{name:t,value:a}=e.target;m(r=>({...r,[t]:a}))},C=e=>{const{name:t,files:a}=e.target;if(a&&a[0]){m(c=>({...c,[t]:a[0]}));const r=new FileReader;r.onloadend=()=>{u(c=>({...c,[t]:r.result}))},r.readAsDataURL(a[0])}},y=e=>{m(t=>{const a={...t};return delete a[e],a}),u(t=>{const a={...t};return delete a[e],a})},N=(e,t)=>{m(a=>({...a,[e]:t}))},S=(e,t)=>{m(a=>({...a,[e]:t}))};return n.jsx(w,{className:"p-6",children:n.jsxs("form",{onSubmit:g,className:"space-y-6",children:[i.map(e=>{var t;return n.jsxs("div",{className:"space-y-2",children:[n.jsxs(D,{htmlFor:e.name,children:[e.label,e.required&&n.jsx("span",{className:"text-red-500",children:"*"})]}),e.type==="textarea"?n.jsx(F,{id:e.name,name:e.name,value:o[e.name]||"",onChange:h,required:e.required,className:s[e.name]?"border-red-500":""}):e.type==="select"?n.jsxs(q,{value:o[e.name]||"",onValueChange:a=>N(e.name,a),children:[n.jsx(E,{className:s[e.name]?"border-red-500":"",children:n.jsx(P,{placeholder:`Select ${e.label}`})}),n.jsx(R,{children:(t=e.options)==null?void 0:t.map(a=>n.jsx(V,{value:a.value,children:a.label},a.value))})]}):e.type==="file"?n.jsxs("div",{className:"space-y-2",children:[n.jsx(d,{id:e.name,name:e.name,type:"file",onChange:C,accept:e.accept,required:e.required,className:s[e.name]?"border-red-500":""}),l[e.name]&&n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("img",{src:l[e.name],alt:"Preview",className:"h-20 w-20 object-cover"}),n.jsx(j,{type:"button",variant:"destructive",size:"sm",onClick:()=>y(e.name),children:"Remove"})]})]}):e.type==="custom"&&e.render?e.render({onChange:a=>S(e.name,a)}):n.jsx(d,{id:e.name,name:e.name,type:e.type,value:o[e.name]||"",onChange:h,required:e.required,className:s[e.name]?"border-red-500":""}),s[e.name]&&n.jsx("p",{className:"text-sm text-red-500",children:s[e.name]})]},e.name)}),n.jsx("div",{className:"flex justify-end",children:n.jsx(j,{type:"submit",disabled:p,children:p?"Processing...":`Submit ${v}`})})]})})}export{ee as EditForm};
