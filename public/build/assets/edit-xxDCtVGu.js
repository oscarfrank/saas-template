import{r as d,j as e,H as u,L as m}from"./app-D_gAFq-V.js";import{B as n}from"./button-BFSYIwtl.js";import{t as o}from"./index-LIrdw0Kx.js";import{u as g}from"./use-tenant-router-CyUlpgxO.js";import{A as h}from"./arrow-left-DKY5D8vS.js";import{S as p}from"./save-CfQRUuIj.js";/* empty css            */import"./utils-DawFQoOT.js";import"./createLucideIcon-_LQi4Q30.js";function _({ticket:r,users:a}){const l=g(),[t,i]=d.useState({subject:r.subject,description:r.description,status:r.status,priority:r.priority,category:r.category,assigned_to:r.assigned_to}),c=s=>{if(s.preventDefault(),!t.subject.trim()){o.error("Please enter a subject");return}if(!t.description.trim()){o.error("Please enter a description");return}l.put("tickets.update",t,{ticket:r.id},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{o.success("Ticket updated successfully")},onError:()=>{o.error("Failed to update ticket")}})};return e.jsxs(e.Fragment,{children:[e.jsx(u,{title:`Edit Ticket #${r.id}`}),e.jsxs("div",{className:"container mx-auto py-6",children:[e.jsx("div",{className:"mb-6",children:e.jsx(n,{variant:"ghost",asChild:!0,children:e.jsxs(m,{href:l.route("admin.tickets.show",{ticket:r.id}),children:[e.jsx(h,{className:"h-4 w-4 mr-2"}),"Back to Ticket"]})})}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Edit Ticket"}),e.jsxs("form",{onSubmit:c,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),e.jsx("input",{type:"text",id:"subject",value:t.subject,onChange:s=>i({...t,subject:s.target.value}),className:"w-full rounded-lg border p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter ticket subject"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{id:"description",value:t.description,onChange:s=>i({...t,description:s.target.value}),className:"w-full rounded-lg border p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",rows:6,placeholder:"Enter ticket description"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),e.jsxs("select",{id:"status",value:t.status,onChange:s=>i({...t,status:s.target.value}),className:"w-full rounded-lg border p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"open",children:"Open"}),e.jsx("option",{value:"in_progress",children:"In Progress"}),e.jsx("option",{value:"resolved",children:"Resolved"}),e.jsx("option",{value:"closed",children:"Closed"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),e.jsxs("select",{id:"priority",value:t.priority,onChange:s=>i({...t,priority:s.target.value}),className:"w-full rounded-lg border p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"low",children:"Low"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"high",children:"High"}),e.jsx("option",{value:"urgent",children:"Urgent"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),e.jsxs("select",{id:"category",value:t.category,onChange:s=>i({...t,category:s.target.value}),className:"w-full rounded-lg border p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"technical",children:"Technical"}),e.jsx("option",{value:"billing",children:"Billing"}),e.jsx("option",{value:"account",children:"Account"}),e.jsx("option",{value:"general",children:"General"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"assigned_to",className:"block text-sm font-medium text-gray-700 mb-1",children:"Assign To"}),e.jsxs("select",{id:"assigned_to",value:t.assigned_to||"",onChange:s=>i({...t,assigned_to:s.target.value?Number(s.target.value):null}),className:"w-full rounded-lg border p-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Unassigned"}),a.map(s=>e.jsxs("option",{value:s.id,children:[s.first_name," ",s.last_name]},s.id))]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(n,{type:"submit",children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),"Update Ticket"]})})]})]})]})]})}export{_ as default};
