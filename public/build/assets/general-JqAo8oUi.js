import{b as S,r as g,u as F,j as e,H as L,a as O}from"./app--rPLb1Wa.js";import{S as _,H as T}from"./layout-ow1hhJoK.js";import{I as o}from"./input-error-BJ3TLcy6.js";import{B as C}from"./button-t6oEvNNW.js";import{I as u}from"./input-7hAbn_4K.js";import{L as l}from"./label-sJHZW9me.js";import{T as I}from"./textarea-BhLX4LKA.js";import{A as k}from"./app-layout-Dnm4xl_Y.js";import{U}from"./upload-DGyCeX7e.js";import{K as D}from"./transition-7-X903R2.js";/* empty css            */import"./separator-FPpwAL24.js";import"./utils-DawFQoOT.js";import"./use-effective-tenant-BheL7R1D.js";import"./user-CAE3BrTq.js";import"./createLucideIcon-Dn2ECoQ0.js";import"./shield-DsM99oQg.js";import"./breadcrumb-D_vSgZGN.js";import"./sheet-CrDhwUie.js";import"./index-CMqQocSw.js";import"./index-DdBBGQ2H.js";import"./index-BizbyHS1.js";import"./index-OBDDV7SX.js";import"./index-CiYhb_ol.js";import"./index-9nGA-rDe.js";import"./index-DBn22uq1.js";import"./x-5C1CNzet.js";import"./index-BNkycKvd.js";import"./index-B-ffABjE.js";import"./index-Y54OWJqv.js";import"./dropdown-menu-tGwdyT5s.js";import"./index-D1BNpUEz.js";import"./index-DKlkJ5f8.js";import"./check-B7WA0u7K.js";import"./chevron-down-3TE5sHwq.js";import"./skeleton-nucNN7DL.js";import"./use-tenant-router-CdkPTyQ-.js";import"./trash-2-CM4e-Rdn.js";import"./en-US-DSSwd-Ay.js";import"./endOfMonth-BNqLjwTF.js";import"./file-text-BV3sSqH6.js";import"./dollar-sign-iov7TVxI.js";import"./credit-card-D0dMZS3_.js";import"./mail-C4499bmE.js";import"./circle-alert-Bw4CcRkw.js";import"./package-DpMKRVkn.js";import"./users-DAp9UJ3w.js";import"./wallet-Idy0EFA4.js";import"./building-2-CZ3Ztb_0.js";import"./chevron-right-aR-LqB9c.js";import"./user-plus-BV2N0T9m.js";import"./key-round-BqVSMmt-.js";import"./history-0se6vPfB.js";import"./sonner-BeKZnWl-.js";import"./index-Dtar63yJ.js";function W(n){return!n||typeof n!="string"?null:`/storage/${n.startsWith("public/")?n.slice(7):n}`}const A=[{title:"Organization",href:"/settings/organization"},{title:"General",href:"/settings/organization/general"}],E=[{value:"dashboard",label:"Dashboard (hub)"},{value:"dashboard/workspace",label:"Workspace"},{value:"dashboard/youtuber",label:"YouTuber"},{value:"dashboard/borrower",label:"Borrower"},{value:"dashboard/lender",label:"Lender"}];function He({tenant:n,default_landing_path:h="dashboard",can_edit_organization:j=!1,industries:f,organizationSizes:b}){const{auth:G,tenant:m}=S().props,r=n??(m?{id:m.id,name:m.name,slug:m.slug,logo:m.logo??null}:null)??{name:"",slug:"",logo:null},[v,x]=g.useState(!1),{data:a,setData:t,patch:y,errors:i,processing:N,recentlySuccessful:z}=F({name:r.name,slug:r.slug,description:r.description||"",website:r.website||"",industry:r.industry||"Other",size:r.size||"1-10",default_landing_path:h,logo:null}),d=g.useMemo(()=>a.logo instanceof File?URL.createObjectURL(a.logo):W(r.logo??null),[a.logo,r.logo]);g.useEffect(()=>()=>{d!=null&&d.startsWith("blob:")&&URL.revokeObjectURL(d)},[d]);const w=s=>{s.preventDefault();const c=route("settings.organization.update",{tenant:r.slug}),p={preserveScroll:!0};a.logo?(p.onSuccess=()=>{t("logo",null),x(!0),setTimeout(()=>x(!1),2e3),setTimeout(()=>window.location.reload(),1500)},O.post(c,{...a,_method:"PATCH"},p)):y(c,p)};return e.jsxs(k,{breadcrumbs:A,children:[e.jsx(L,{title:"Organization Settings"}),e.jsx(_,{children:e.jsxs("div",{className:"space-y-8",children:[e.jsx(T,{title:"Organization Settings",description:"Manage your organization's basic information"}),e.jsxs("form",{onSubmit:w,className:"space-y-8",children:[e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"logo",children:"Organization Logo"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"relative h-24 w-24 shrink-0 rounded-lg border-2 border-dashed border-muted-foreground/25 p-2",children:d?e.jsx("img",{src:d,alt:"Organization logo",className:"h-full w-full rounded-md object-contain"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center",children:e.jsx(U,{className:"h-8 w-8 text-muted-foreground"})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx(u,{id:"logo",type:"file",accept:"image/jpeg,image/png,image/gif",onChange:s=>{var c;return t("logo",((c=s.target.files)==null?void 0:c[0])??null)},className:"cursor-pointer"}),e.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"PNG, JPG or GIF. Max 2MB. Leave empty to keep current logo."}),e.jsx(o,{message:i.logo})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"name",children:"Organization Name"}),e.jsx(u,{id:"name",value:a.name,onChange:s=>t("name",s.target.value),placeholder:"Enter organization name"}),e.jsx(o,{message:i.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"slug",children:"Organization Slug"}),e.jsx(u,{id:"slug",value:a.slug,onChange:s=>t("slug",s.target.value),placeholder:"your-organization"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"This will be used in URLs and API endpoints"}),e.jsx(o,{message:i.slug})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"description",children:"Description"}),e.jsx(I,{id:"description",value:a.description,onChange:s=>t("description",s.target.value),placeholder:"Tell us about your organization",rows:4}),e.jsx(o,{message:i.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"website",children:"Website"}),e.jsx(u,{id:"website",type:"url",value:a.website,onChange:s=>t("website",s.target.value),placeholder:"https://example.com"}),e.jsx(o,{message:i.website})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"industry",children:"Industry"}),e.jsx("select",{id:"industry",value:a.industry,onChange:s=>t("industry",s.target.value),className:"w-full rounded-md border border-input bg-background px-3 py-2",children:f.map(s=>e.jsx("option",{value:s,children:s},s))}),e.jsx(o,{message:i.industry})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"size",children:"Organization Size"}),e.jsx("select",{id:"size",value:a.size,onChange:s=>t("size",s.target.value),className:"w-full rounded-md border border-input bg-background px-3 py-2",children:b.map(s=>e.jsxs("option",{value:s,children:[s," employees"]},s))}),e.jsx(o,{message:i.size})]})]}),j&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"default_landing_path",children:"Default landing page"}),e.jsx("select",{id:"default_landing_path",value:a.default_landing_path,onChange:s=>t("default_landing_path",s.target.value),className:"w-full rounded-md border border-input bg-background px-3 py-2",children:E.map(s=>e.jsx("option",{value:s.value,children:s.label},s.value))}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Where members land when they log in (they can override this in their own preferences)."}),e.jsx(o,{message:i.default_landing_path})]})]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(C,{disabled:N,children:"Save Changes"}),e.jsx(D,{show:z||v,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:e.jsx("p",{className:"text-sm text-neutral-600",children:"Saved"})})]})]})]})})]})}export{He as default};
