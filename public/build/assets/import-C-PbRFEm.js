import{u as b,r as w,j as e,H as v,L as j}from"./app-BCbVRjYH.js";import{A as y}from"./app-layout-DDUYIrv9.js";import{B as o}from"./button-uRfG0SJk.js";import{C as m,a as c,c as d}from"./card-BD7iHYUQ.js";import{I as C}from"./input-CrGy8JR3.js";import{L as S}from"./label-B0XYP5fN.js";import{u as I}from"./use-tenant-router-DiYxGHG9.js";import{t as l}from"./index-DQu8XgdM.js";import{A}from"./arrow-left-BfZHK7-S.js";import{U as n}from"./upload-BYoUKMoT.js";import{D}from"./download-CsxJGCi_.js";import{F as L}from"./file-spreadsheet-CtY-FmSC.js";/* empty css            */import"./breadcrumb-Kf_Jua1h.js";import"./utils-DawFQoOT.js";import"./sheet-BWAeJB6C.js";import"./index-DPt8kAZf.js";import"./index-D8qEZ9Gx.js";import"./index-BUJG5R3i.js";import"./index-yqb1x3RI.js";import"./index-CGjHmAMw.js";import"./index-BtBzczEp.js";import"./index-J5wWsuif.js";import"./x-D611PGoW.js";import"./createLucideIcon-GhyqP1ys.js";import"./index-oDWWD3I5.js";import"./index-CRLWXLw8.js";import"./index-BKQezIhM.js";import"./dropdown-menu-RgYEZTz0.js";import"./index-CsWEytiP.js";import"./index-B-AhuyaU.js";import"./check-B9bfcpBy.js";import"./chevron-down-RiCOlSmY.js";import"./skeleton-BmqfrkAd.js";import"./use-effective-tenant-CQ6us_Au.js";import"./trash-2-DpopIwP-.js";import"./en-US-DSSwd-Ay.js";import"./endOfMonth-BNqLjwTF.js";import"./user-B55N5piZ.js";import"./file-text-CFSx456Y.js";import"./dollar-sign-CPcgpTPL.js";import"./credit-card-BcosqvxM.js";import"./mail-hckPM3CY.js";import"./shield-DZlKfUFe.js";import"./circle-alert-DuZXvBOf.js";import"./package-DUGkiw1_.js";import"./users-69zSRrQI.js";import"./wallet-CbL3ywdH.js";import"./building-2-CxDNleOb.js";import"./chevron-right-BmqFOubz.js";import"./sonner-D7WukHuY.js";function Le({statusOptions:O,currencyOptions:k,flash:s,import_errors:a}){const r=I(),{data:p,setData:h,post:f,processing:x,errors:u}=b({file:null});w.useEffect(()=>{s!=null&&s.success&&l.success(s.success),s!=null&&s.warning&&l.warning(s.warning),s!=null&&s.error&&l.error(s.error)},[s==null?void 0:s.success,s==null?void 0:s.warning,s==null?void 0:s.error]);const N=[{title:"Assets",href:r.route("assets.index")},{title:"Import",href:r.route("assets.import")}],g=t=>{t.preventDefault(),p.file&&f(r.route("assets.import.process"),{forceFormData:!0,preserveScroll:!0})};return e.jsxs(y,{breadcrumbs:N,children:[e.jsx(v,{title:"Import assets"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(o,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx(j,{href:r.route("assets.index"),children:e.jsx(A,{className:"h-5 w-5"})})}),e.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-2xl bg-primary/10",children:e.jsx(n,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Import assets"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Upload a CSV or JSON file (JSON can include categories for a full restore)."})]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(m,{className:"overflow-hidden rounded-2xl border shadow-sm",children:[e.jsx(c,{className:"border-b bg-muted/30 pb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"font-semibold",children:"Template"})]})}),e.jsxs(d,{className:"pt-5",children:[e.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Download a CSV template for manual entry, or export assets as JSON from the assets list to get a full backup (categories + assets) that you can re-import here."}),e.jsx(o,{variant:"outline",asChild:!0,children:e.jsxs("a",{href:r.route("assets.import.template"),download:!0,className:"gap-2",children:[e.jsx(L,{className:"h-4 w-4"}),"Download template"]})}),e.jsx("p",{className:"text-muted-foreground text-xs mt-3",children:"Columns: Name, Asset tag, Serial number, Category, Status, Purchase price, Currency, Purchase date, Location, Condition."})]})]}),e.jsxs(m,{className:"overflow-hidden rounded-2xl border shadow-sm",children:[e.jsx(c,{className:"border-b bg-muted/30 pb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"font-semibold",children:"Upload file"})]})}),e.jsx(d,{className:"pt-5",children:e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"file",children:"CSV or JSON file"}),e.jsx(C,{id:"file",type:"file",accept:".csv,.txt,.json",onChange:t=>{var i;return h("file",((i=t.target.files)==null?void 0:i[0])??null)}}),u.file&&e.jsx("p",{className:"text-destructive text-sm",children:u.file})]}),e.jsxs(o,{type:"submit",disabled:x||!p.file,className:"gap-2",children:[e.jsx(n,{className:"h-4 w-4"}),x?"Importing…":"Import"]})]})})]})]}),a&&a.length>0&&e.jsxs(m,{className:"overflow-hidden rounded-2xl border-destructive/30 border shadow-sm",children:[e.jsx(c,{className:"border-b bg-destructive/5 pb-4",children:e.jsx("h2",{className:"font-semibold text-destructive",children:"Import errors"})}),e.jsx(d,{className:"pt-5",children:e.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground max-h-60 overflow-y-auto",children:a.map((t,i)=>e.jsx("li",{children:t},i))})})]}),e.jsx(o,{variant:"ghost",size:"sm",asChild:!0,children:e.jsx(j,{href:r.route("assets.index"),children:"← Back to assets"})})]})]})}export{Le as default};
