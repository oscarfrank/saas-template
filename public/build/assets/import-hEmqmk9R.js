import{u as b,r as w,j as e,H as v,L as j}from"./app-D04Dztzg.js";import{A as y}from"./app-layout-C_naymNT.js";import{B as o}from"./button-DZPivG0c.js";import{C as m,a as c,c as d}from"./card-BiECpO3p.js";import{I as C}from"./input-DOcNm42I.js";import{L as S}from"./label-RUXCefAA.js";import{u as I}from"./use-tenant-router-C1gTSJyt.js";import{t as l}from"./index-CwasXQq4.js";import{A}from"./arrow-left-C8d7RzRk.js";import{U as n}from"./upload-D53ygHHr.js";import{D}from"./download-F4mXSD5r.js";import{F as L}from"./file-spreadsheet-DNxZvLh5.js";/* empty css            */import"./breadcrumb-EW6w0Tnx.js";import"./utils-DawFQoOT.js";import"./sheet-10OrOGMG.js";import"./index-CnJ5OywE.js";import"./index-ybapLptU.js";import"./index-C7jeomV-.js";import"./index-DhOecPJh.js";import"./index-QeErrECp.js";import"./index-39nAXQv3.js";import"./index-Dnop7anH.js";import"./x-Zd_QZ6W_.js";import"./createLucideIcon-DQ1nCPNN.js";import"./index-DfZYuCB2.js";import"./index-ByPjEBNg.js";import"./index-BwMmloDF.js";import"./dropdown-menu-CTrM84f_.js";import"./index-5Qd1E-Xg.js";import"./index-DxpSCYGk.js";import"./check-CXnK2_NP.js";import"./chevron-down-RccFG6I8.js";import"./skeleton-Y604-fIL.js";import"./use-effective-tenant-QBTvs0JY.js";import"./trash-2-bEjB-2Kd.js";import"./en-US-DSSwd-Ay.js";import"./endOfMonth-BNqLjwTF.js";import"./user-CHKOG5ae.js";import"./file-text-D9Mvcoy0.js";import"./dollar-sign-DAXZAp8e.js";import"./credit-card-DR0OTN7k.js";import"./mail-D5g0vBUi.js";import"./shield-DZ1jybk1.js";import"./circle-alert-DoebB800.js";import"./package-DgqiXCfS.js";import"./users-C90dJzc7.js";import"./wallet-BpEENWzu.js";import"./building-2-DAyvAnId.js";import"./chevron-right-BKyDHRej.js";import"./sonner-BZ9uEQDq.js";function Le({statusOptions:O,currencyOptions:k,flash:s,import_errors:a}){const r=I(),{data:p,setData:h,post:f,processing:x,errors:u}=b({file:null});w.useEffect(()=>{s!=null&&s.success&&l.success(s.success),s!=null&&s.warning&&l.warning(s.warning),s!=null&&s.error&&l.error(s.error)},[s==null?void 0:s.success,s==null?void 0:s.warning,s==null?void 0:s.error]);const N=[{title:"Assets",href:r.route("assets.index")},{title:"Import",href:r.route("assets.import")}],g=t=>{t.preventDefault(),p.file&&f(r.route("assets.import.process"),{forceFormData:!0,preserveScroll:!0})};return e.jsxs(y,{breadcrumbs:N,children:[e.jsx(v,{title:"Import assets"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(o,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx(j,{href:r.route("assets.index"),children:e.jsx(A,{className:"h-5 w-5"})})}),e.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-2xl bg-primary/10",children:e.jsx(n,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Import assets"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Upload a CSV or JSON file (JSON can include categories for a full restore)."})]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(m,{className:"overflow-hidden rounded-2xl border shadow-sm",children:[e.jsx(c,{className:"border-b bg-muted/30 pb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"font-semibold",children:"Template"})]})}),e.jsxs(d,{className:"pt-5",children:[e.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Download a CSV template for manual entry, or export assets as JSON from the assets list to get a full backup (categories + assets) that you can re-import here."}),e.jsx(o,{variant:"outline",asChild:!0,children:e.jsxs("a",{href:r.route("assets.import.template"),download:!0,className:"gap-2",children:[e.jsx(L,{className:"h-4 w-4"}),"Download template"]})}),e.jsx("p",{className:"text-muted-foreground text-xs mt-3",children:"Columns: Name, Asset tag, Serial number, Category, Status, Purchase price, Currency, Purchase date, Location, Condition."})]})]}),e.jsxs(m,{className:"overflow-hidden rounded-2xl border shadow-sm",children:[e.jsx(c,{className:"border-b bg-muted/30 pb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"font-semibold",children:"Upload file"})]})}),e.jsx(d,{className:"pt-5",children:e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"file",children:"CSV or JSON file"}),e.jsx(C,{id:"file",type:"file",accept:".csv,.txt,.json",onChange:t=>{var i;return h("file",((i=t.target.files)==null?void 0:i[0])??null)}}),u.file&&e.jsx("p",{className:"text-destructive text-sm",children:u.file})]}),e.jsxs(o,{type:"submit",disabled:x||!p.file,className:"gap-2",children:[e.jsx(n,{className:"h-4 w-4"}),x?"Importing…":"Import"]})]})})]})]}),a&&a.length>0&&e.jsxs(m,{className:"overflow-hidden rounded-2xl border-destructive/30 border shadow-sm",children:[e.jsx(c,{className:"border-b bg-destructive/5 pb-4",children:e.jsx("h2",{className:"font-semibold text-destructive",children:"Import errors"})}),e.jsx(d,{className:"pt-5",children:e.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground max-h-60 overflow-y-auto",children:a.map((t,i)=>e.jsx("li",{children:t},i))})})]}),e.jsx(o,{variant:"ghost",size:"sm",asChild:!0,children:e.jsx(j,{href:r.route("assets.index"),children:"← Back to assets"})})]})]})}export{Le as default};
