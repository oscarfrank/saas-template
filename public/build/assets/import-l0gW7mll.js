import{b,r as w,j as e,H as v,L as j}from"./app-C6kPN11i.js";import{A as y}from"./app-layout-D7Ym20yP.js";import{B as o}from"./button-BpcDdXY5.js";import{C as m,a as c,d}from"./card-BmLtWeUg.js";import{I as C}from"./input-DeRGwPqG.js";import{L as S}from"./label-DjBGQ4hv.js";import{u as I}from"./use-tenant-router-DTqtlbGV.js";import{t as l}from"./index-BdMXpxBe.js";import{A}from"./arrow-left-DfTOTK5_.js";import{U as n}from"./upload-BZ8k59qO.js";import{D}from"./download-ChRVRCCR.js";import{F as L}from"./file-spreadsheet-CA6ZQdWu.js";/* empty css            */import"./breadcrumb-T3ZEscMa.js";import"./utils-DawFQoOT.js";import"./sheet-DTohGHug.js";import"./index-BAMDKCYP.js";import"./index-BgupMaT4.js";import"./index-BAwu540p.js";import"./index-B6IO7GeI.js";import"./index-C7NICwH1.js";import"./index-D4LQi-WW.js";import"./index-BUDeVy67.js";import"./x-CBDS_5l3.js";import"./createLucideIcon-Btrq-JEB.js";import"./index-qNm-4KWi.js";import"./index-DjhqQPoh.js";import"./index-DhnENxrq.js";import"./dropdown-menu-D3Uldfay.js";import"./index-CNSJNdLA.js";import"./index-DqvV1WAh.js";import"./check-ClCxYYgj.js";import"./chevron-down-B2X-k1Lh.js";import"./skeleton-COOtXclS.js";import"./use-effective-tenant-BWuu0ab1.js";import"./trash-2-CxGNVkTA.js";import"./en-US-DSSwd-Ay.js";import"./endOfMonth-BNqLjwTF.js";import"./user-B4Zct4sF.js";import"./file-text-Dt63_vzy.js";import"./dollar-sign-B1EcXlzZ.js";import"./credit-card-DqGQHV60.js";import"./mail-CxIpkxxd.js";import"./shield-JlQ_48fz.js";import"./circle-alert-CphltCJl.js";import"./package-BxdLO7jd.js";import"./users-Hp18PoY4.js";import"./wallet-Rygk2Esi.js";import"./building-2-BJ5JnpgN.js";import"./chevron-right-DDsMzLk9.js";import"./sonner-Dk1iPVCY.js";function Le({statusOptions:O,currencyOptions:k,flash:s,import_errors:a}){const r=I(),{data:p,setData:h,post:f,processing:x,errors:u}=b({file:null});w.useEffect(()=>{s!=null&&s.success&&l.success(s.success),s!=null&&s.warning&&l.warning(s.warning),s!=null&&s.error&&l.error(s.error)},[s==null?void 0:s.success,s==null?void 0:s.warning,s==null?void 0:s.error]);const N=[{title:"Assets",href:r.route("assets.index")},{title:"Import",href:r.route("assets.import")}],g=t=>{t.preventDefault(),p.file&&f(r.route("assets.import.process"),{forceFormData:!0,preserveScroll:!0})};return e.jsxs(y,{breadcrumbs:N,children:[e.jsx(v,{title:"Import assets"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(o,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx(j,{href:r.route("assets.index"),children:e.jsx(A,{className:"h-5 w-5"})})}),e.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-2xl bg-primary/10",children:e.jsx(n,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Import assets"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Upload a CSV or JSON file (JSON can include categories for a full restore)."})]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(m,{className:"overflow-hidden rounded-2xl border shadow-sm",children:[e.jsx(c,{className:"border-b bg-muted/30 pb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"font-semibold",children:"Template"})]})}),e.jsxs(d,{className:"pt-5",children:[e.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Download a CSV template for manual entry, or export assets as JSON from the assets list to get a full backup (categories + assets) that you can re-import here."}),e.jsx(o,{variant:"outline",asChild:!0,children:e.jsxs("a",{href:r.route("assets.import.template"),download:!0,className:"gap-2",children:[e.jsx(L,{className:"h-4 w-4"}),"Download template"]})}),e.jsx("p",{className:"text-muted-foreground text-xs mt-3",children:"Columns: Name, Asset tag, Serial number, Category, Status, Purchase price, Currency, Purchase date, Location, Condition."})]})]}),e.jsxs(m,{className:"overflow-hidden rounded-2xl border shadow-sm",children:[e.jsx(c,{className:"border-b bg-muted/30 pb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"font-semibold",children:"Upload file"})]})}),e.jsx(d,{className:"pt-5",children:e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"file",children:"CSV or JSON file"}),e.jsx(C,{id:"file",type:"file",accept:".csv,.txt,.json",onChange:t=>{var i;return h("file",((i=t.target.files)==null?void 0:i[0])??null)}}),u.file&&e.jsx("p",{className:"text-destructive text-sm",children:u.file})]}),e.jsxs(o,{type:"submit",disabled:x||!p.file,className:"gap-2",children:[e.jsx(n,{className:"h-4 w-4"}),x?"Importing…":"Import"]})]})})]})]}),a&&a.length>0&&e.jsxs(m,{className:"overflow-hidden rounded-2xl border-destructive/30 border shadow-sm",children:[e.jsx(c,{className:"border-b bg-destructive/5 pb-4",children:e.jsx("h2",{className:"font-semibold text-destructive",children:"Import errors"})}),e.jsx(d,{className:"pt-5",children:e.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground max-h-60 overflow-y-auto",children:a.map((t,i)=>e.jsx("li",{children:t},i))})})]}),e.jsx(o,{variant:"ghost",size:"sm",asChild:!0,children:e.jsx(j,{href:r.route("assets.index"),children:"← Back to assets"})})]})]})}export{Le as default};
