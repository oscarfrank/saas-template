import{u as b,r as w,j as e,H as v,L as j}from"./app-gPN8amc9.js";import{A as y}from"./app-layout-m1QNDmTO.js";import{B as o}from"./button-Cj2SoaIi.js";import{C as m,a as c,c as d}from"./card-jiY-BaUL.js";import{I as C}from"./input-B79_MU8S.js";import{L as S}from"./label-C2dxOHx6.js";import{u as I}from"./use-tenant-router-D3DXtB31.js";import{t as l}from"./index-j2LBsrE0.js";import{A}from"./arrow-left-CfrPOGod.js";import{U as n}from"./upload-D1ZJHQ3j.js";import{D}from"./download-CtCxA5ox.js";import{F as L}from"./file-spreadsheet-DYK-XE9-.js";/* empty css            */import"./breadcrumb-CsU1Tz76.js";import"./utils-DawFQoOT.js";import"./sheet-DFPrmmg7.js";import"./index-DqyYBftF.js";import"./index-60DjX2N9.js";import"./index-DUKhY4gL.js";import"./index-D87sG7sC.js";import"./index-hgHPmbz7.js";import"./index-Dhn2z-om.js";import"./index-iDhR6Kym.js";import"./x-iIZXAApY.js";import"./createLucideIcon-RyF2jhNp.js";import"./index-Dw7ZRzTR.js";import"./index-N1Ys4I5G.js";import"./index-ACXiQFsW.js";import"./dropdown-menu-CbdLkicC.js";import"./index-COqnm0fp.js";import"./index-CwyY0wof.js";import"./check--GgJOlMB.js";import"./chevron-down-CvfYYazo.js";import"./skeleton-C1y8al6Q.js";import"./use-effective-tenant-D6Q0a9Kt.js";import"./trash-2-DSsJUvYH.js";import"./en-US-DSSwd-Ay.js";import"./endOfMonth-BNqLjwTF.js";import"./user-oXVagHGM.js";import"./file-text-B43tV5Ij.js";import"./dollar-sign-D9IVVGzk.js";import"./credit-card-G68fBoPd.js";import"./mail-CoV0uW20.js";import"./shield-WeHZPON-.js";import"./circle-alert-BYLTzm0A.js";import"./package-BLUjTLsq.js";import"./users-BA1uD91c.js";import"./wallet-C1o0NA-e.js";import"./building-2-CIJou526.js";import"./chevron-right-DN0aDYO-.js";import"./sonner-Cdv8P1tn.js";function Le({statusOptions:O,currencyOptions:k,flash:s,import_errors:a}){const r=I(),{data:p,setData:h,post:f,processing:x,errors:u}=b({file:null});w.useEffect(()=>{s!=null&&s.success&&l.success(s.success),s!=null&&s.warning&&l.warning(s.warning),s!=null&&s.error&&l.error(s.error)},[s==null?void 0:s.success,s==null?void 0:s.warning,s==null?void 0:s.error]);const N=[{title:"Assets",href:r.route("assets.index")},{title:"Import",href:r.route("assets.import")}],g=t=>{t.preventDefault(),p.file&&f(r.route("assets.import.process"),{forceFormData:!0,preserveScroll:!0})};return e.jsxs(y,{breadcrumbs:N,children:[e.jsx(v,{title:"Import assets"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(o,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx(j,{href:r.route("assets.index"),children:e.jsx(A,{className:"h-5 w-5"})})}),e.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-2xl bg-primary/10",children:e.jsx(n,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Import assets"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Upload a CSV or JSON file (JSON can include categories for a full restore)."})]})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(m,{className:"overflow-hidden rounded-2xl border shadow-sm",children:[e.jsx(c,{className:"border-b bg-muted/30 pb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"font-semibold",children:"Template"})]})}),e.jsxs(d,{className:"pt-5",children:[e.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Download a CSV template for manual entry, or export assets as JSON from the assets list to get a full backup (categories + assets) that you can re-import here."}),e.jsx(o,{variant:"outline",asChild:!0,children:e.jsxs("a",{href:r.route("assets.import.template"),download:!0,className:"gap-2",children:[e.jsx(L,{className:"h-4 w-4"}),"Download template"]})}),e.jsx("p",{className:"text-muted-foreground text-xs mt-3",children:"Columns: Name, Asset tag, Serial number, Category, Status, Purchase price, Currency, Purchase date, Location, Condition."})]})]}),e.jsxs(m,{className:"overflow-hidden rounded-2xl border shadow-sm",children:[e.jsx(c,{className:"border-b bg-muted/30 pb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(n,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"font-semibold",children:"Upload file"})]})}),e.jsx(d,{className:"pt-5",children:e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(S,{htmlFor:"file",children:"CSV or JSON file"}),e.jsx(C,{id:"file",type:"file",accept:".csv,.txt,.json",onChange:t=>{var i;return h("file",((i=t.target.files)==null?void 0:i[0])??null)}}),u.file&&e.jsx("p",{className:"text-destructive text-sm",children:u.file})]}),e.jsxs(o,{type:"submit",disabled:x||!p.file,className:"gap-2",children:[e.jsx(n,{className:"h-4 w-4"}),x?"Importing…":"Import"]})]})})]})]}),a&&a.length>0&&e.jsxs(m,{className:"overflow-hidden rounded-2xl border-destructive/30 border shadow-sm",children:[e.jsx(c,{className:"border-b bg-destructive/5 pb-4",children:e.jsx("h2",{className:"font-semibold text-destructive",children:"Import errors"})}),e.jsx(d,{className:"pt-5",children:e.jsx("ul",{className:"list-disc list-inside space-y-1 text-sm text-muted-foreground max-h-60 overflow-y-auto",children:a.map((t,i)=>e.jsx("li",{children:t},i))})})]}),e.jsx(o,{variant:"ghost",size:"sm",asChild:!0,children:e.jsx(j,{href:r.route("assets.index"),children:"← Back to assets"})})]})]})}export{Le as default};
