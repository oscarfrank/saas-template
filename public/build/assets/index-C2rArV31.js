import{u as L,j as e,H as k,L as C,r as S,a as F}from"./app--rPLb1Wa.js";import{A as I}from"./app-layout-Dnm4xl_Y.js";import{B as o}from"./button-t6oEvNNW.js";import{C as h,a as p,c as f}from"./card-CKITB03R.js";import{I as T}from"./input-7hAbn_4K.js";import{L as c}from"./label-sJHZW9me.js";import{u as P}from"./use-tenant-router-CdkPTyQ-.js";import{S as j,a as g,b as _,c as N,d as n}from"./select-ezPgkrJs.js";import{t as v}from"./index-Dtar63yJ.js";import{D as V,a as O,b as H,c as R,d as U,e as z,f as B}from"./dialog-eYr-eMtF.js";import{A as M}from"./arrow-left-Dbh3fK9n.js";import{S as $}from"./breadcrumb-D_vSgZGN.js";import{P as D}from"./package-DpMKRVkn.js";import{c as G}from"./createLucideIcon-Dn2ECoQ0.js";import{L as q}from"./layout-dashboard-BD8--5kX.js";import{T as J}from"./triangle-alert-4XAw33uy.js";import{S as K}from"./save-BO828QFO.js";import{T as Q}from"./trash-2-CM4e-Rdn.js";/* empty css            */import"./sonner-BeKZnWl-.js";import"./utils-DawFQoOT.js";import"./index-DdBBGQ2H.js";import"./index-D1BNpUEz.js";import"./index-OBDDV7SX.js";import"./index-CiYhb_ol.js";import"./index-9nGA-rDe.js";import"./index-BizbyHS1.js";import"./index-BNkycKvd.js";import"./index-B-ffABjE.js";import"./index-vfTxt5y-.js";import"./index-Y54OWJqv.js";import"./chevron-down-3TE5sHwq.js";import"./check-B7WA0u7K.js";import"./index-CMqQocSw.js";import"./index-DBn22uq1.js";import"./x-5C1CNzet.js";import"./sheet-CrDhwUie.js";import"./dropdown-menu-tGwdyT5s.js";import"./index-DKlkJ5f8.js";import"./skeleton-nucNN7DL.js";import"./use-effective-tenant-BheL7R1D.js";import"./en-US-DSSwd-Ay.js";import"./endOfMonth-BNqLjwTF.js";import"./user-CAE3BrTq.js";import"./file-text-BV3sSqH6.js";import"./dollar-sign-iov7TVxI.js";import"./credit-card-D0dMZS3_.js";import"./mail-C4499bmE.js";import"./shield-DsM99oQg.js";import"./circle-alert-Bw4CcRkw.js";import"./users-DAp9UJ3w.js";import"./wallet-Idy0EFA4.js";import"./building-2-CZ3Ztb_0.js";import"./chevron-right-aR-LqB9c.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],X=G("Coins",W);function Y({totalAssets:t,tenantRouter:b}){const[m,x]=S.useState(""),[l,u]=S.useState(!1),r=m==="DELETE",i=()=>{r&&F.post(b.route("assets.clear-all"),{confirm:"DELETE"},{preserveScroll:!0,onSuccess:()=>{u(!1),x(""),v.success(t===1?"1 asset deleted.":`${t} assets deleted.`)},onError:()=>v.error("Something went wrong.")})};return e.jsxs(V,{open:l,onOpenChange:d=>{u(d),d||x("")},children:[e.jsx(O,{asChild:!0,children:e.jsxs(o,{type:"button",variant:"destructive",className:"gap-2",children:[e.jsx(Q,{className:"h-4 w-4"}),"Clear all assets ",t>0?`(${t})`:""]})}),e.jsxs(H,{children:[e.jsxs(R,{children:[e.jsx(U,{children:"Clear all assets"}),e.jsxs(z,{children:["This will permanently delete all ",t," asset",t!==1?"s":"",". Categories will remain. This cannot be undone."]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"clear-confirm",children:["Type ",e.jsx("strong",{children:"DELETE"})," to confirm"]}),e.jsx(T,{id:"clear-confirm",value:m,onChange:d=>x(d.target.value),placeholder:"DELETE",className:"font-mono",autoComplete:"off"})]}),e.jsxs(B,{children:[e.jsx(o,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancel"}),e.jsx(o,{type:"button",variant:"destructive",disabled:!r,onClick:i,children:"Delete all assets"})]})]})]})}function Ze({settings:t,currencyOptions:b,statusOptions:m,total_assets:x=0}){const l=P(),u=[{title:"Assets",href:l.route("assets.index")},{title:"Settings",href:l.route("assets.settings.index")}],{data:r,setData:i,put:d,transform:A,processing:y,errors:w}=L({asset_tag_prefix:t.asset_tag_prefix||"AST",default_currency:t.default_currency||"USD",default_sold_currency:t.default_sold_currency??t.default_currency??"USD",default_status_filter:t.default_status_filter??"all",default_asset_status:t.default_asset_status??"available",items_per_page:String(t.items_per_page??15)}),E=s=>{s.preventDefault(),A(a=>({...a,default_status_filter:a.default_status_filter==="all"?"":a.default_status_filter})),d(l.route("assets.settings.update"),{preserveScroll:!0,onSuccess:()=>v.success("Settings saved"),onError:()=>v.error("Something went wrong. Please try again.")})};return e.jsxs(I,{breadcrumbs:u,children:[e.jsx(k,{title:"Asset settings"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(o,{variant:"ghost",size:"icon",asChild:!0,children:e.jsx(C,{href:l.route("assets.index"),children:e.jsx(M,{className:"h-5 w-5"})})}),e.jsxs("div",{className:"flex min-w-0 flex-1 items-center gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-2xl bg-primary/10",children:e.jsx($,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-semibold tracking-tight",children:"Asset settings"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Defaults for IDs, currencies, dashboard, and new assets."})]})]})]}),e.jsxs("form",{onSubmit:E,className:"space-y-8",children:[e.jsxs(h,{className:"overflow-hidden rounded-2xl border shadow-sm",children:[e.jsx(p,{className:"border-b bg-muted/30 pb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"font-semibold",children:"Asset ID"})]})}),e.jsx(f,{className:"space-y-4 pt-5",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"asset_tag_prefix",children:"Prefix"}),e.jsx(T,{id:"asset_tag_prefix",value:r.asset_tag_prefix,onChange:s=>i("asset_tag_prefix",s.target.value),placeholder:"e.g. AST, LAP, OFF",className:"h-11 max-w-xs"}),e.jsxs("p",{className:"text-muted-foreground text-xs",children:["New assets get IDs like ",e.jsxs("span",{className:"font-medium text-foreground",children:[r.asset_tag_prefix||"AST","-0001"]}),". Letters and numbers only; a dash is added automatically."]}),w.asset_tag_prefix&&e.jsx("p",{className:"text-destructive text-sm",children:w.asset_tag_prefix})]})})]}),e.jsxs(h,{className:"overflow-hidden rounded-2xl border shadow-sm",children:[e.jsx(p,{className:"border-b bg-muted/30 pb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"font-semibold",children:"Currencies"})]})}),e.jsxs(f,{className:"grid gap-6 pt-5 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"default_currency",children:"Default currency"}),e.jsxs(j,{value:r.default_currency,onValueChange:s=>i("default_currency",s),children:[e.jsx(g,{id:"default_currency",className:"h-11",children:e.jsx(_,{})}),e.jsx(N,{children:Object.entries(b).map(([s,a])=>e.jsx(n,{value:s,children:a},s))})]}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"Used for purchase price when creating new assets."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"default_sold_currency",children:"Default sold currency"}),e.jsxs(j,{value:r.default_sold_currency,onValueChange:s=>i("default_sold_currency",s),children:[e.jsx(g,{id:"default_sold_currency",className:"h-11",children:e.jsx(_,{placeholder:"Same or choose"})}),e.jsx(N,{children:Object.entries(b).map(([s,a])=>e.jsx(n,{value:s,children:a},s))})]}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"Pre-selected when marking an asset as sold (e.g. NGN if you sell locally)."})]})]})]}),e.jsxs(h,{className:"overflow-hidden rounded-2xl border shadow-sm",children:[e.jsx(p,{className:"border-b bg-muted/30 pb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"font-semibold",children:"Assets dashboard"})]})}),e.jsxs(f,{className:"grid gap-6 pt-5 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"default_status_filter",children:"Default status filter"}),e.jsxs(j,{value:r.default_status_filter,onValueChange:s=>i("default_status_filter",s),children:[e.jsx(g,{id:"default_status_filter",className:"h-11",children:e.jsx(_,{placeholder:"All statuses"})}),e.jsxs(N,{children:[e.jsx(n,{value:"all",children:"All statuses"}),Object.entries(m).map(([s,a])=>e.jsx(n,{value:s,children:a},s))]})]}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"Filter applied when you open the assets list (e.g. Available to focus on active items)."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"items_per_page",children:"Items per page"}),e.jsxs(j,{value:r.items_per_page,onValueChange:s=>i("items_per_page",s),children:[e.jsx(g,{id:"items_per_page",className:"h-11",children:e.jsx(_,{})}),e.jsxs(N,{children:[e.jsx(n,{value:"15",children:"15"}),e.jsx(n,{value:"25",children:"25"}),e.jsx(n,{value:"50",children:"50"})]})]}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"Number of assets per page on the list."})]})]})]}),e.jsxs(h,{className:"overflow-hidden rounded-2xl border shadow-sm",children:[e.jsx(p,{className:"border-b bg-muted/30 pb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{className:"h-5 w-5 text-primary"}),e.jsx("h2",{className:"font-semibold",children:"New assets"})]})}),e.jsx(f,{className:"pt-5",children:e.jsxs("div",{className:"max-w-sm space-y-2",children:[e.jsx(c,{htmlFor:"default_asset_status",children:"Default status"}),e.jsxs(j,{value:r.default_asset_status,onValueChange:s=>i("default_asset_status",s),children:[e.jsx(g,{id:"default_asset_status",className:"h-11",children:e.jsx(_,{})}),e.jsx(N,{children:Object.entries(m).map(([s,a])=>e.jsx(n,{value:s,children:a},s))})]}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"Pre-selected when creating a new asset (e.g. Available, In use)."})]})})]}),e.jsxs(h,{className:"overflow-hidden rounded-2xl border-destructive/50 border shadow-sm",children:[e.jsx(p,{className:"border-b border-destructive/20 bg-destructive/5 pb-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-5 w-5 text-destructive"}),e.jsx("h2",{className:"font-semibold text-destructive",children:"Danger zone"})]})}),e.jsxs(f,{className:"pt-5",children:[e.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"Permanently delete all assets in this tenant. Categories are not deleted. This cannot be undone."}),e.jsx(Y,{totalAssets:x,tenantRouter:l})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 border-t pt-6",children:[e.jsxs(o,{type:"submit",disabled:y,className:"min-w-[140px]",children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),y?"Savingâ€¦":"Save settings"]}),e.jsx(o,{type:"button",variant:"outline",asChild:!0,children:e.jsx(C,{href:l.route("assets.index"),children:"Cancel"})})]})]})]})]})}export{Ze as default};
