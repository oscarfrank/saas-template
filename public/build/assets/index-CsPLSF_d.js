import{u as S,r as j,j as e,H as k,a as F}from"./app-Bw_eO3sd.js";import{A as L}from"./app-layout-BSIvknne.js";import{B as R}from"./button-DY2O9S9G.js";import{I as o}from"./input-Bmbc7aO-.js";import{L as i}from"./label-C8ywGR50.js";import{T as g}from"./textarea-DIheA2r5.js";import{S as T}from"./switch-CQQZAiUc.js";import{C as c,a as x,b as h,c as p}from"./card-DFDYEeIO.js";import{T as U,a as E,b as u,c as _}from"./tabs-Btb8IMYr.js";import{S as O,a as I,b as M,c as A,d as W}from"./select-BGKBtYvv.js";import{t as y}from"./index-De6LdJTA.js";/* empty css            */import"./breadcrumb-C2sRCkcu.js";import"./utils-DawFQoOT.js";import"./sheet-CmXTK4FQ.js";import"./index-ByXzH8er.js";import"./index-BUUDosUt.js";import"./index-CVZ3wJAA.js";import"./index-fLpoMwuJ.js";import"./index-CtNM4qhv.js";import"./index-NSo7goI1.js";import"./index-KPETvMeP.js";import"./x-BbsTXzvW.js";import"./createLucideIcon-B9LDe1F7.js";import"./index-V7Tq7z7Y.js";import"./index-VORSUaQ4.js";import"./index-U92boKRB.js";import"./dropdown-menu-eFqcjt66.js";import"./index-Bt6kV37t.js";import"./index-BG0SbQBQ.js";import"./check-DWqh-ITp.js";import"./chevron-down-1laKfkfM.js";import"./skeleton-COevZx66.js";import"./use-effective-tenant-DB7mi6AU.js";import"./use-tenant-router-BPEgyWCx.js";import"./trash-2-CEE_VqOF.js";import"./en-US-DSSwd-Ay.js";import"./endOfMonth-BNqLjwTF.js";import"./user-DQDpUZmM.js";import"./file-text-DPljHKaA.js";import"./dollar-sign-BdaYzWQe.js";import"./credit-card-8AiVb87_.js";import"./mail-FVHvQLZC.js";import"./shield-BPzbhB4h.js";import"./circle-alert-BvybSHRd.js";import"./package-D6uMvGvA.js";import"./users-BpArtZsm.js";import"./wallet-Cnkdu3fg.js";import"./building-2-DJOAXm0m.js";import"./chevron-right-BXZknpZE.js";import"./sonner--M2gOl5q.js";import"./index-2GXxL6M4.js";function b(n){return!n||n.startsWith("public/")?null:`/storage/${n}`}const H=[{title:"Admin",href:route("admin.dashboard")},{title:"Settings",href:route("admin.settings.system")}],D={lending:"Loan and lending platforms, finance products","youtube-studio":"Content teams, YouTube studios, scripts & shoots",oscarmini:"Organizations: staff, studio, payroll, assets, loans, projects",vault:"Subscription and membership platforms",nexus:"Operations and internal tools (startups, remote teams, SMEs)",academy:"EdTech and online course / learning platforms",redirect:"Redirect root (/) and public pages to any URL; app and other routes work as normal"};function He({settings:n,homepageThemes:v}){const{data:a,setData:r,put:N,processing:C,errors:t}=S({...n,site_logo:null,site_favicon:null}),d=j.useMemo(()=>a.site_logo instanceof File?URL.createObjectURL(a.site_logo):b(n.site_logo),[a.site_logo,n.site_logo]),m=j.useMemo(()=>a.site_favicon instanceof File?URL.createObjectURL(a.site_favicon):b(n.site_favicon),[a.site_favicon,n.site_favicon]);j.useEffect(()=>()=>{d!=null&&d.startsWith("blob:")&&URL.revokeObjectURL(d),m!=null&&m.startsWith("blob:")&&URL.revokeObjectURL(m)},[d,m]);const w=s=>{s.preventDefault();const l=a.site_logo||a.site_favicon,f={preserveScroll:!0,onSuccess:()=>{y.success("Settings updated successfully"),l&&window.location.reload()},onError:()=>{y.error("Failed to update settings")}};l?F.post(route("admin.settings.update"),{...a,_method:"PUT"},f):N(route("admin.settings.update"),f)};return e.jsxs(L,{breadcrumbs:H,children:[e.jsx(k,{title:"Site Settings"}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4",children:e.jsxs("form",{onSubmit:w,children:[e.jsxs(U,{defaultValue:"general",children:[e.jsxs(E,{className:"mb-4",children:[e.jsx(u,{value:"general",children:"General"}),e.jsx(u,{value:"seo",children:"SEO"}),e.jsx(u,{value:"company",children:"Company Info"}),e.jsx(u,{value:"social",children:"Social Media"}),e.jsx(u,{value:"advanced",children:"Advanced"})]}),e.jsx(_,{value:"general",children:e.jsxs(c,{children:[e.jsx(x,{children:e.jsx(h,{children:"General Settings"})}),e.jsxs(p,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"site_name",children:"Site Name"}),e.jsx(o,{id:"site_name",value:a.site_name,onChange:s=>r("site_name",s.target.value),className:t.site_name?"border-red-500":""}),t.site_name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.site_name})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"site_title",children:"Site Title"}),e.jsx(o,{id:"site_title",value:a.site_title,onChange:s=>r("site_title",s.target.value),className:t.site_title?"border-red-500":""}),t.site_title&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.site_title})]})]}),e.jsxs("div",{className:"flex flex-wrap items-start gap-4",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx(i,{htmlFor:"site_logo",children:"Site Logo"}),e.jsx(o,{id:"site_logo",type:"file",accept:"image/jpeg,image/png,image/gif",onChange:s=>{var l;return r("site_logo",((l=s.target.files)==null?void 0:l[0])||null)},className:t.site_logo?"border-red-500":""}),t.site_logo&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.site_logo}),e.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"If you don’t choose a new file, the current one is kept."})]}),d&&e.jsxs("div",{className:"shrink-0 rounded-md border bg-muted/30 p-2",children:[e.jsx("p",{className:"text-muted-foreground text-xs mb-1",children:"Preview"}),e.jsx("img",{src:d,alt:"Site logo",className:"h-12 max-w-[180px] object-contain"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-start gap-4",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx(i,{htmlFor:"site_favicon",children:"Site Favicon"}),e.jsx(o,{id:"site_favicon",type:"file",accept:"image/jpeg,image/png,image/gif,image/x-icon,.ico",onChange:s=>{var l;return r("site_favicon",((l=s.target.files)==null?void 0:l[0])||null)},className:t.site_favicon?"border-red-500":""}),t.site_favicon&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.site_favicon}),e.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Shown in the browser tab. If you don’t choose a new file, the current one is kept."})]}),m&&e.jsxs("div",{className:"shrink-0 rounded-md border bg-muted/30 p-2",children:[e.jsx("p",{className:"text-muted-foreground text-xs mb-1",children:"Current / New"}),e.jsx("img",{src:m,alt:"Favicon",className:"size-12 object-contain"})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"homepage_theme",children:"Homepage theme"}),e.jsxs(O,{value:a.homepage_theme,onValueChange:s=>r("homepage_theme",s),children:[e.jsx(I,{id:"homepage_theme",className:t.homepage_theme?"border-red-500":"",children:e.jsx(M,{placeholder:"Select theme"})}),e.jsx(A,{children:Object.entries(v).map(([s,l])=>e.jsx(W,{value:s,children:l},s))})]}),t.homepage_theme&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.homepage_theme}),a.homepage_theme==="redirect"&&e.jsxs("div",{className:"mt-3",children:[e.jsx(i,{htmlFor:"homepage_redirect_url",children:"Redirect URL"}),e.jsx(o,{id:"homepage_redirect_url",type:"url",value:a.homepage_redirect_url??"",onChange:s=>r("homepage_redirect_url",s.target.value),placeholder:"https://example.com",className:t.homepage_redirect_url?"border-red-500":""}),t.homepage_redirect_url&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.homepage_redirect_url}),e.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Visiting the root (/) or public pages will redirect here."})]}),e.jsx("p",{className:"text-muted-foreground text-sm mt-1",children:"Choose which public homepage design to show."}),e.jsxs("div",{className:"mt-3 rounded-lg border bg-muted/30 p-3",children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground uppercase tracking-wider mb-2",children:"What each theme is suited for"}),e.jsx("ul",{className:"space-y-1.5 text-sm",children:Object.entries(v).map(([s,l])=>e.jsxs("li",{className:a.homepage_theme===s?"font-medium text-foreground":"text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:l}),e.jsx("span",{className:"mx-1.5",children:"—"}),e.jsx("span",{children:D[s]??"General use"})]},s))})]})]})]})]})}),e.jsx(_,{value:"seo",children:e.jsxs(c,{children:[e.jsx(x,{children:e.jsx(h,{children:"SEO Settings"})}),e.jsxs(p,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"site_description",children:"Site Description"}),e.jsx(g,{id:"site_description",value:a.site_description||"",onChange:s=>r("site_description",s.target.value),className:t.site_description?"border-red-500":""}),t.site_description&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.site_description})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"site_keywords",children:"Site Keywords"}),e.jsx(o,{id:"site_keywords",value:a.site_keywords||"",onChange:s=>r("site_keywords",s.target.value),className:t.site_keywords?"border-red-500":""}),t.site_keywords&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.site_keywords})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"meta_tags",children:"Meta Tags"}),e.jsx(g,{id:"meta_tags",value:a.meta_tags||"",onChange:s=>r("meta_tags",s.target.value),className:t.meta_tags?"border-red-500":""}),t.meta_tags&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.meta_tags})]})]})]})}),e.jsx(_,{value:"company",children:e.jsxs(c,{children:[e.jsx(x,{children:e.jsx(h,{children:"Company Information"})}),e.jsxs(p,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"company_name",children:"Company Name"}),e.jsx(o,{id:"company_name",value:a.company_name,onChange:s=>r("company_name",s.target.value),className:t.company_name?"border-red-500":""}),t.company_name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.company_name})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"company_address",children:"Company Address"}),e.jsx(o,{id:"company_address",value:a.company_address,onChange:s=>r("company_address",s.target.value),className:t.company_address?"border-red-500":""}),t.company_address&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.company_address})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"company_phone",children:"Company Phone"}),e.jsx(o,{id:"company_phone",value:a.company_phone,onChange:s=>r("company_phone",s.target.value),className:t.company_phone?"border-red-500":""}),t.company_phone&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.company_phone})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"company_email",children:"Company Email"}),e.jsx(o,{id:"company_email",type:"email",value:a.company_email,onChange:s=>r("company_email",s.target.value),className:t.company_email?"border-red-500":""}),t.company_email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.company_email})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"company_website",children:"Company Website"}),e.jsx(o,{id:"company_website",type:"url",value:a.company_website||"",onChange:s=>r("company_website",s.target.value),className:t.company_website?"border-red-500":""}),t.company_website&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.company_website})]})]})]})}),e.jsx(_,{value:"social",children:e.jsxs(c,{children:[e.jsx(x,{children:e.jsx(h,{children:"Social Media Links"})}),e.jsxs(p,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"facebook_url",children:"Facebook URL"}),e.jsx(o,{id:"facebook_url",type:"url",value:a.facebook_url||"",onChange:s=>r("facebook_url",s.target.value),className:t.facebook_url?"border-red-500":""}),t.facebook_url&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.facebook_url})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"twitter_url",children:"Twitter URL"}),e.jsx(o,{id:"twitter_url",type:"url",value:a.twitter_url||"",onChange:s=>r("twitter_url",s.target.value),className:t.twitter_url?"border-red-500":""}),t.twitter_url&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.twitter_url})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"instagram_url",children:"Instagram URL"}),e.jsx(o,{id:"instagram_url",type:"url",value:a.instagram_url||"",onChange:s=>r("instagram_url",s.target.value),className:t.instagram_url?"border-red-500":""}),t.instagram_url&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.instagram_url})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"linkedin_url",children:"LinkedIn URL"}),e.jsx(o,{id:"linkedin_url",type:"url",value:a.linkedin_url||"",onChange:s=>r("linkedin_url",s.target.value),className:t.linkedin_url?"border-red-500":""}),t.linkedin_url&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.linkedin_url})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"youtube_url",children:"YouTube URL"}),e.jsx(o,{id:"youtube_url",type:"url",value:a.youtube_url||"",onChange:s=>r("youtube_url",s.target.value),className:t.youtube_url?"border-red-500":""}),t.youtube_url&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.youtube_url})]})]})]})}),e.jsx(_,{value:"advanced",children:e.jsxs(c,{children:[e.jsx(x,{children:e.jsx(h,{children:"Advanced Settings"})}),e.jsxs(p,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"google_analytics_code",children:"Google Analytics Code"}),e.jsx(g,{id:"google_analytics_code",value:a.google_analytics_code||"",onChange:s=>r("google_analytics_code",s.target.value),className:t.google_analytics_code?"border-red-500":""}),t.google_analytics_code&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.google_analytics_code})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"footer_text",children:"Footer Text"}),e.jsx(g,{id:"footer_text",value:a.footer_text||"",onChange:s=>r("footer_text",s.target.value),className:t.footer_text?"border-red-500":""}),t.footer_text&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:t.footer_text})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{id:"maintenance_mode",checked:a.maintenance_mode,onCheckedChange:s=>r("maintenance_mode",s)}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"maintenance_mode",children:"Maintenance Mode"}),e.jsx("p",{className:"text-muted-foreground text-sm mt-0.5",children:"When on, only admins can log in; everyone else sees the maintenance page and cannot register."})]})]})]})]})})]}),e.jsx("div",{className:"mt-6",children:e.jsx(R,{type:"submit",disabled:C,children:"Save Settings"})})]})})]})}export{He as default};
