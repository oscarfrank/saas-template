import{r as u,j as e,H as x,L as h,a as o}from"./app-Bw_eO3sd.js";import{B as a}from"./button-DY2O9S9G.js";import{C as j,a as f,b as g,d as v,c as y}from"./card-DFDYEeIO.js";import{t as c}from"./index-De6LdJTA.js";import{D as C,b as D,c as N,d as I,e as b,f as z}from"./dialog-DXDwBKs7.js";import{u as A}from"./use-effective-tenant-DB7mi6AU.js";import{A as O}from"./arrow-right-C19pV_LS.js";/* empty css            */import"./utils-DawFQoOT.js";import"./index-ByXzH8er.js";import"./index-BUUDosUt.js";import"./index-CVZ3wJAA.js";import"./index-fLpoMwuJ.js";import"./index-CtNM4qhv.js";import"./index-NSo7goI1.js";import"./index-KPETvMeP.js";import"./x-BbsTXzvW.js";import"./createLucideIcon-B9LDe1F7.js";function K({pendingInvites:r=[]}){const{effectiveTenant:l}=A(),[i,s]=u.useState({isOpen:!1,type:null,inviteId:null,organization:null}),d=(t,n)=>{s({isOpen:!0,type:"accept",inviteId:t,organization:n})},p=(t,n)=>{s({isOpen:!0,type:"decline",inviteId:t,organization:n})},m=()=>{i.inviteId&&(i.type==="accept"?o.post(route("tenants.invites.accept",{invite:i.inviteId}),{},{onSuccess:()=>{c.success("Invite accepted successfully"),o.reload()},onError:t=>{c.error(t.message||"Failed to accept invite")}}):i.type==="decline"&&o.post(route("tenants.invites.decline",{invite:i.inviteId}),{},{onSuccess:()=>{c.success("Invite declined successfully"),o.reload()},onError:t=>{c.error(t.message||"Failed to decline invite")}}),s({isOpen:!1,type:null,inviteId:null,organization:null}))};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(x,{title:"Pending Invites"}),e.jsxs("div",{className:"container max-w-3xl mx-auto py-12 px-4",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Pending Invites"}),e.jsxs("p",{className:"mt-2 text-muted-foreground",children:["You have ",r.length," pending invitation",r.length!==1?"s":""]})]}),e.jsxs(j,{children:[e.jsxs(f,{children:[e.jsx(g,{children:"Organization Invites"}),e.jsx(v,{children:"Accept or decline invitations to join organizations"})]}),e.jsx(y,{children:r.length>0?e.jsx("div",{className:"space-y-4",children:r.map(t=>e.jsxs("div",{className:"flex items-center justify-between rounded-md border p-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:t.organization}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.role.charAt(0).toUpperCase()+t.role.slice(1)," â€¢ Invited ",t.invited_at]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(a,{size:"sm",variant:"outline",onClick:()=>p(t.id,t.organization),children:"Decline"}),e.jsx(a,{size:"sm",onClick:()=>d(t.id,t.organization),children:"Accept"})]})]},t.id))}):e.jsxs("div",{className:"text-center py-8 space-y-4",children:[e.jsx("p",{className:"text-muted-foreground",children:"No pending invites"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(h,{href:route("dashboard",l==null?void 0:l.slug),children:e.jsxs(a,{children:["Go to Dashboard",e.jsx(O,{className:"ml-2 h-4 w-4"})]})})})]})})]})]}),e.jsx(C,{open:i.isOpen,onOpenChange:t=>!t&&s(n=>({...n,isOpen:!1})),children:e.jsxs(D,{children:[e.jsxs(N,{children:[e.jsx(I,{children:i.type==="accept"?"Accept Invitation":"Decline Invitation"}),e.jsx(b,{children:i.type==="accept"?`Are you sure you want to accept the invitation to join ${i.organization}?`:`Are you sure you want to decline the invitation from ${i.organization}? This action cannot be undone.`})]}),e.jsxs(z,{children:[e.jsx(a,{variant:"outline",onClick:()=>s(t=>({...t,isOpen:!1})),children:"Cancel"}),e.jsx(a,{variant:i.type==="accept"?"default":"destructive",onClick:m,children:i.type==="accept"?"Accept":"Decline"})]})]})})]})}export{K as default};
