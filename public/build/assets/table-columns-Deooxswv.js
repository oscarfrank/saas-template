import{j as e,L as l,r as d,a as u}from"./app-C6kPN11i.js";import{B as p}from"./button-BpcDdXY5.js";import{D as S,a as b,b as _,c as t,d as N}from"./dropdown-menu-D3Uldfay.js";import{t as r}from"./index-BdMXpxBe.js";import{f as g}from"./utils-DawFQoOT.js";import{C as D}from"./custom-alert-dialog-Ci1IYU57.js";import{E as w}from"./eye-CCu2q2jA.js";import{E as y}from"./ellipsis-Gj8oDHoc.js";import{P as C}from"./pencil-DyR_OX_m.js";import{c as P}from"./createLucideIcon-Btrq-JEB.js";import{C as L}from"./copy-Dm3mJ54V.js";import{S as E}from"./share-2-DZJjVhLt.js";import{T as I}from"./trash-2-CxGNVkTA.js";/* empty css            */import"./index-BgupMaT4.js";import"./index-CNSJNdLA.js";import"./index-B6IO7GeI.js";import"./index-C7NICwH1.js";import"./index-D4LQi-WW.js";import"./index-qNm-4KWi.js";import"./index-DjhqQPoh.js";import"./index-BUDeVy67.js";import"./index-DqvV1WAh.js";import"./index-BAwu540p.js";import"./check-ClCxYYgj.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]],A=P("Power",T),ne=({onDelete:M})=>[{id:"name",accessorKey:"name",header:"Name",enableSorting:!0,enableHiding:!0,cell:({row:s})=>{const a=s.original;return e.jsx(l,{href:route("admin.loan-packages.show",{loanPackage:a.id}),className:"font-medium hover:underline cursor-pointer",children:s.getValue("name")})}},{id:"code",accessorKey:"code",header:"Code",enableSorting:!0,enableHiding:!0},{id:"amount_range",header:"Amount Range",enableSorting:!1,enableHiding:!0,cell:({row:s})=>{const a=s.original.min_amount,i=s.original.max_amount;return e.jsxs("div",{children:[g(a)," - ",g(i)]})}},{id:"interest_rate",accessorKey:"interest_rate",header:"Interest Rate",enableSorting:!0,enableHiding:!0,cell:({row:s})=>{const a=parseFloat(s.getValue("interest_rate"));return e.jsxs("div",{children:[a,"%"]})}},{id:"risk_level",accessorKey:"risk_level",header:"Risk Level",enableSorting:!0,enableHiding:!0,cell:({row:s})=>{const a=s.getValue("risk_level");return e.jsx("div",{className:"capitalize",children:a})}},{id:"is_active",accessorKey:"is_active",header:"Status",enableSorting:!0,enableHiding:!0,cell:({row:s})=>{const a=s.getValue("is_active");return e.jsx("div",{className:`capitalize ${a?"text-green-600":"text-red-600"}`,children:a?"Active":"Inactive"})}},{id:"actions",cell:({row:s})=>{const a=s.original,[i,n]=d.useState(!1),[h,o]=d.useState(!1),[f,c]=d.useState(!1),x=()=>{navigator.clipboard.writeText(String(a.id)),r.success("Loan Package ID copied to clipboard")},v=()=>{const m=route("admin.loan-packages.show",a.id);navigator.clipboard.writeText(m),r.success("Loan Package URL copied to clipboard")},k=()=>{c(!0),u.put(route("loan-packages.update-status",a.id),{is_active:!a.is_active},{preserveState:!0,preserveScroll:!0,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},onSuccess:m=>{r.success(`Loan Package ${a.is_active?"deactivated":"activated"} successfully`),a.is_active=!a.is_active,c(!1)},onError:()=>{r.error("Failed to update loan package status"),c(!1)}})},j=()=>{o(!0),u.delete(route("admin.loan-packages.destroy",a.id),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{r.success("Loan Package deleted successfully"),n(!1),u.reload({only:["loanPackages","pagination"],onSuccess:()=>{o(!1)},onError:()=>{o(!1),r.error("Failed to refresh data after deletion")}})},onError:()=>{r.error("Failed to delete loan package"),o(!1)}})};return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{href:route("admin.loan-packages.show",a.id),children:e.jsx(p,{variant:"outline",size:"icon",className:"cursor-pointer",children:e.jsx(w,{className:"h-4 w-4"})})}),e.jsxs(S,{children:[e.jsx(b,{asChild:!0,children:e.jsx(p,{variant:"outline",size:"icon",className:"cursor-pointer",children:e.jsx(y,{className:"h-4 w-4"})})}),e.jsxs(_,{align:"end",children:[e.jsx(t,{asChild:!0,children:e.jsxs(l,{href:route("admin.loan-packages.edit",a.id),className:"cursor-pointer",children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"Edit Package"]})}),e.jsxs(t,{onClick:k,className:"cursor-pointer",disabled:f,children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),a.is_active?"Deactivate Package":"Activate Package"]}),e.jsxs(t,{onClick:x,className:"cursor-pointer",children:[e.jsx(L,{className:"mr-2 h-4 w-4"}),"Copy ID"]}),e.jsxs(t,{onClick:v,className:"cursor-pointer",children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Share Package"]}),e.jsx(N,{}),e.jsxs(t,{onClick:()=>n(!0),className:"text-destructive cursor-pointer",children:[e.jsx(I,{className:"mr-2 h-4 w-4"}),"Delete Package"]})]})]}),e.jsx(D,{isOpen:i,onClose:()=>n(!1),onConfirm:j,title:"Are you sure?",description:`This action cannot be undone. This will permanently delete the loan package "${a.name}".`,isLoading:h})]})}}];export{ne as createColumns};
