import{r as l,j as e,a as i}from"./app-D_gAFq-V.js";import{B as c}from"./badge-D-wVBMaP.js";import{B as m}from"./button-BFSYIwtl.js";import{D as u,a as x,b as j,c as f,e as g,d as p}from"./dropdown-menu-JF5QhWq2.js";import{S as D}from"./switch-D_rm_Tp2.js";import{C as v}from"./custom-alert-dialog-u7KHtSlS.js";import{t as n}from"./index-LIrdw0Kx.js";import{D as C,a as N,b as w,c as y,d as S}from"./dialog-fkbXmNdw.js";import{E as T}from"./ellipsis-DpgrUeY3.js";import{P as E}from"./pencil-Mc8qQUBn.js";import{T as b}from"./trash-B2BUgpGJ.js";/* empty css            */import"./utils-DawFQoOT.js";import"./index-Cnz-hDEO.js";import"./index-CRGk-QAc.js";import"./index-D0D4bDTC.js";import"./index-B7I2zNpG.js";import"./index-nTYPKFdy.js";import"./index-CEoUbW3m.js";import"./index-BUnOnUDt.js";import"./index-Dicx2aIc.js";import"./index-COM1D-hK.js";import"./index-CcckuZ4v.js";import"./check-BtkFvFIj.js";import"./createLucideIcon-_LQi4Q30.js";import"./index-CcAEI6Yp.js";import"./index-DtqZ64Fm.js";import"./x-Db-wiWVp.js";const ae=()=>[{accessorKey:"name",header:"Name",cell:({row:t})=>{const[a,r]=l.useState(!1),s=t.original;return e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>r(!0),className:"text-left hover:underline",children:t.getValue("name")}),e.jsx(C,{open:a,onOpenChange:r,children:e.jsxs(N,{className:"max-w-2xl",children:[e.jsxs(w,{children:[e.jsx(y,{children:s.name}),e.jsx(S,{children:"Template Details"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium",children:"Shortcode"}),e.jsx(c,{variant:"secondary",className:"mt-1",children:s.shortcode})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium",children:"Content"}),e.jsx("div",{className:"mt-1 whitespace-pre-wrap rounded-md bg-muted p-3 text-sm",children:s.content})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium",children:"Placeholders"}),e.jsx("div",{className:"mt-1 flex flex-wrap gap-2",children:s.placeholders.map(o=>e.jsx(c,{variant:"outline",children:`{{${o}}}`},o))})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(m,{variant:"outline",onClick:()=>r(!1),children:"Close"}),e.jsx(m,{onClick:()=>{r(!1),i.visit(route("email-templates.edit",s.id))},children:"Edit Template"})]})]})]})})]})}},{accessorKey:"shortcode",header:"Shortcode",cell:({row:t})=>{const a=t.getValue("shortcode");return e.jsx(c,{variant:"secondary",children:a})}},{accessorKey:"is_active",header:"Status",cell:({row:t})=>{const a=t.getValue("is_active"),[r,s]=l.useState(!1);return e.jsx(D,{checked:a,disabled:r,onCheckedChange:()=>{s(!0),i.put(route("email-templates.toggle-status",t.original.id),{},{onSuccess:()=>{n.success("Template status updated successfully"),s(!1)},onError:()=>{n.error("Failed to update template status"),s(!1)}})}})}},{id:"actions",cell:({row:t})=>{const a=t.original,[r,s]=l.useState(!1),[o,d]=l.useState(!1),h=()=>{d(!0),i.delete(route("email-templates.destroy",a.id),{onSuccess:()=>{n.success("Template deleted successfully"),s(!1),i.reload()},onError:()=>{n.error("Failed to delete template"),d(!1)}})};return e.jsxs(e.Fragment,{children:[e.jsxs(u,{children:[e.jsx(x,{asChild:!0,children:e.jsxs(m,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx("span",{className:"sr-only",children:"Open menu"}),e.jsx(T,{className:"h-4 w-4"})]})}),e.jsxs(j,{align:"end",children:[e.jsx(f,{children:"Actions"}),e.jsx(g,{}),e.jsxs(p,{onClick:()=>i.visit(route("email-templates.edit",a.id)),children:[e.jsx(E,{className:"mr-2 h-4 w-4"}),"Edit"]}),e.jsxs(p,{onClick:()=>s(!0),className:"text-red-600",children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]}),e.jsx(v,{isOpen:r,onClose:()=>s(!1),onConfirm:h,title:"Delete Template",description:`Are you sure you want to delete the template "${a.name}"? This action cannot be undone.`,isLoading:o})]})}}];export{ae as createColumns};
