import{j as e,L as d,r as h,a as g}from"./app-AYk_vs9E.js";import{B as c}from"./button-DttS-hSO.js";import{D as x,a as f,b as j,c as i,d as b}from"./dropdown-menu-C44z3VEl.js";import{t as o}from"./index-BSCeWBGl.js";import{f as _}from"./utils-DawFQoOT.js";import{C as k}from"./custom-alert-dialog-hVS-5wDI.js";import{B as E}from"./badge-CZj20M3O.js";import{E as N}from"./eye-Bhjc1mcq.js";import{E as v}from"./ellipsis-D73LBEFI.js";import{P as w}from"./pencil-DsGzSekW.js";import{C as K}from"./copy-D8gkrNRg.js";import{S as P}from"./share-2-Cs2z7e5H.js";import{T as A}from"./trash-2-CBlWZpKk.js";import{C as I}from"./check-o4IyhQhV.js";import{X as L}from"./x-C_zQvMCL.js";import{R}from"./rotate-ccw-RoZTb54Y.js";/* empty css            */import"./index-C6YWzjxw.js";import"./index-DpFxWXhO.js";import"./index-BS1oCJ0R.js";import"./index-DH27nmtP.js";import"./index-DB97fau_.js";import"./index-KBPR2gxA.js";import"./index-D-MPqe8D.js";import"./index-JB8FLK9q.js";import"./index-kZDZBK9R.js";import"./index-DVPqwmDN.js";import"./createLucideIcon-B8-QgQ2g.js";const de=({onDelete:m,onApprove:u,onReject:p})=>[{id:"name",accessorKey:"name",header:"Name",enableSorting:!0,enableHiding:!0,cell:({row:r})=>{const s=r.original;return e.jsx(d,{href:route("products.show",s.id),className:"font-medium hover:underline cursor-pointer",children:r.getValue("name")})}},{id:"description",accessorKey:"description",header:"Description",enableSorting:!0,enableHiding:!0,cell:({row:r})=>e.jsx("div",{className:"max-w-[300px] truncate",children:r.getValue("description")})},{id:"price",accessorKey:"price",header:"Price",enableSorting:!0,enableHiding:!0,cell:({row:r})=>{const s=parseFloat(r.getValue("price"));return e.jsx("div",{className:"font-medium",children:_(s)})}},{id:"featured_image",accessorKey:"featured_image",header:"Image",enableSorting:!1,enableHiding:!0,cell:({row:r})=>{const s=r.getValue("featured_image"),a=r.original.featured_image_original_name;return s?e.jsx("div",{className:"relative h-10 w-10",children:e.jsx("img",{src:s,alt:a||"Product image",className:"h-full w-full rounded-md object-cover"})}):e.jsx("div",{className:"text-muted-foreground",children:"No image"})}},{id:"created_at",accessorKey:"created_at",header:"Created At",enableSorting:!0,enableHiding:!0,cell:({row:r})=>e.jsx("div",{children:new Date(r.getValue("created_at")).toLocaleDateString()})},{id:"actions",cell:({row:r})=>{const s=r.original,[a,t]=h.useState(!1),[l,n]=h.useState(!1),C=()=>{navigator.clipboard.writeText(String(s.id)),o.success("Product ID copied to clipboard")},D=()=>{const S=route("products.show",s.id);navigator.clipboard.writeText(S),o.success("Product URL copied to clipboard")},y=()=>{n(!0),g.delete(route("products.destroy",s.id),{preserveState:!0,preserveScroll:!0,onSuccess:()=>{o.success("Product deleted successfully"),t(!1),g.reload({only:["products","pagination"],onSuccess:()=>{n(!1)},onError:()=>{n(!1),o.error("Failed to refresh data after deletion")}})},onError:()=>{o.error("Failed to delete product"),n(!1)}})};return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{href:route("products.show",s.id),children:e.jsx(c,{variant:"outline",size:"icon",className:"cursor-pointer",children:e.jsx(N,{className:"h-4 w-4"})})}),e.jsxs(x,{children:[e.jsx(f,{asChild:!0,children:e.jsx(c,{variant:"outline",size:"icon",className:"cursor-pointer",children:e.jsx(v,{className:"h-4 w-4"})})}),e.jsxs(j,{align:"end",children:[e.jsx(i,{asChild:!0,children:e.jsxs(d,{href:route("products.edit",s.id),className:"cursor-pointer",children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),"Edit Product"]})}),e.jsxs(i,{onClick:C,className:"cursor-pointer",children:[e.jsx(K,{className:"mr-2 h-4 w-4"}),"Copy ID"]}),e.jsxs(i,{onClick:D,className:"cursor-pointer",children:[e.jsx(P,{className:"mr-2 h-4 w-4"}),"Share Product"]}),e.jsx(b,{}),e.jsxs(i,{onClick:()=>t(!0),className:"text-destructive cursor-pointer",children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"Delete Product"]})]})]}),e.jsx(k,{isOpen:a,onClose:()=>t(!1),onConfirm:y,title:"Are you sure?",description:`This action cannot be undone. This will permanently delete the product "${s.name}".`,isLoading:l})]})}}];function me({onApprove:m,onReject:u,onView:p,onRevert:r,onEdit:s}){return[{accessorKey:"full_name",header:"Full Name"},{accessorKey:"email",header:"Email"},{accessorKey:"status",header:"Status",cell:({row:a})=>{const t=a.original.status,l=t==="approved"?"default":t==="rejected"?"destructive":"secondary";return e.jsx(E,{variant:l,children:t})}},{accessorKey:"submitted_at",header:"Submitted At",cell:({row:a})=>new Date(a.original.submitted_at).toLocaleDateString()},{accessorKey:"verified_at",header:"Verified At",cell:({row:a})=>a.original.verified_at?new Date(a.original.verified_at).toLocaleDateString():"-"},{id:"actions",cell:({row:a})=>{const t=a.original;return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{variant:"outline",size:"icon",onClick:()=>p(t),className:"cursor-pointer",children:e.jsx(N,{className:"h-4 w-4"})}),e.jsxs(x,{children:[e.jsx(f,{asChild:!0,children:e.jsx(c,{variant:"outline",size:"icon",className:"cursor-pointer",children:e.jsx(v,{className:"h-4 w-4"})})}),e.jsxs(j,{align:"end",children:[e.jsxs(i,{onClick:()=>s(t),className:"cursor-pointer",children:[e.jsx(w,{className:"mr-2 h-4 w-4"}),"Edit"]}),t.status==="pending"&&e.jsxs(e.Fragment,{children:[e.jsxs(i,{onClick:()=>m(t),className:"cursor-pointer",children:[e.jsx(I,{className:"mr-2 h-4 w-4"}),"Approve"]}),e.jsxs(i,{onClick:()=>u(t),className:"cursor-pointer",children:[e.jsx(L,{className:"mr-2 h-4 w-4"}),"Reject"]})]}),t.status!=="pending"&&e.jsxs(i,{onClick:()=>r(t),className:"cursor-pointer",children:[e.jsx(R,{className:"mr-2 h-4 w-4"}),"Revert to Pending"]})]})]})]})}}]}export{de as createColumns,me as createKycColumns};
