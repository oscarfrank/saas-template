import{b as L,a as A}from"./app-gPN8amc9.js";function j(){return j=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},j.apply(null,arguments)}var W=String.prototype.replace,M=/%20/g,G="RFC3986",k={default:G,formatters:{RFC1738:function(i){return W.call(i,M,"+")},RFC3986:function(i){return String(i)}},RFC1738:"RFC1738"},F=Object.prototype.hasOwnProperty,E=Array.isArray,O=(function(){for(var i=[],e=0;e<256;++e)i.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return i})(),T=function(i,e){for(var t=e&&e.plainObjects?Object.create(null):{},r=0;r<i.length;++r)i[r]!==void 0&&(t[r]=i[r]);return t},S={arrayToObject:T,assign:function(i,e){return Object.keys(e).reduce(function(t,r){return t[r]=e[r],t},i)},combine:function(i,e){return[].concat(i,e)},compact:function(i){for(var e=[{obj:{o:i},prop:"o"}],t=[],r=0;r<e.length;++r)for(var s=e[r],o=s.obj[s.prop],n=Object.keys(o),p=0;p<n.length;++p){var l=n[p],c=o[l];typeof c=="object"&&c!==null&&t.indexOf(c)===-1&&(e.push({obj:o,prop:l}),t.push(c))}return(function(h){for(;h.length>1;){var u=h.pop(),f=u.obj[u.prop];if(E(f)){for(var a=[],y=0;y<f.length;++y)f[y]!==void 0&&a.push(f[y]);u.obj[u.prop]=a}}})(e),i},decode:function(i,e,t){var r=i.replace(/\+/g," ");if(t==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},encode:function(i,e,t,r,s){if(i.length===0)return i;var o=i;if(typeof i=="symbol"?o=Symbol.prototype.toString.call(i):typeof i!="string"&&(o=String(i)),t==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});for(var n="",p=0;p<o.length;++p){var l=o.charCodeAt(p);l===45||l===46||l===95||l===126||l>=48&&l<=57||l>=65&&l<=90||l>=97&&l<=122||s===k.RFC1738&&(l===40||l===41)?n+=o.charAt(p):l<128?n+=O[l]:l<2048?n+=O[192|l>>6]+O[128|63&l]:l<55296||l>=57344?n+=O[224|l>>12]+O[128|l>>6&63]+O[128|63&l]:(l=65536+((1023&l)<<10|1023&o.charCodeAt(p+=1)),n+=O[240|l>>18]+O[128|l>>12&63]+O[128|l>>6&63]+O[128|63&l])}return n},isBuffer:function(i){return!(!i||typeof i!="object"||!(i.constructor&&i.constructor.isBuffer&&i.constructor.isBuffer(i)))},isRegExp:function(i){return Object.prototype.toString.call(i)==="[object RegExp]"},maybeMap:function(i,e){if(E(i)){for(var t=[],r=0;r<i.length;r+=1)t.push(e(i[r]));return t}return e(i)},merge:function i(e,t,r){if(!t)return e;if(typeof t!="object"){if(E(e))e.push(t);else{if(!e||typeof e!="object")return[e,t];(r&&(r.plainObjects||r.allowPrototypes)||!F.call(Object.prototype,t))&&(e[t]=!0)}return e}if(!e||typeof e!="object")return[e].concat(t);var s=e;return E(e)&&!E(t)&&(s=T(e,r)),E(e)&&E(t)?(t.forEach(function(o,n){if(F.call(e,n)){var p=e[n];p&&typeof p=="object"&&o&&typeof o=="object"?e[n]=i(p,o,r):e.push(o)}else e[n]=o}),e):Object.keys(t).reduce(function(o,n){var p=t[n];return o[n]=F.call(o,n)?i(o[n],p,r):p,o},s)}},J=Object.prototype.hasOwnProperty,B={brackets:function(i){return i+"[]"},comma:"comma",indices:function(i,e){return i+"["+e+"]"},repeat:function(i){return i}},D=Array.isArray,K=String.prototype.split,X=Array.prototype.push,Z=function(i,e){X.apply(i,D(e)?e:[e])},Y=Date.prototype.toISOString,V=k.default,v={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:S.encode,encodeValuesOnly:!1,format:V,formatter:k.formatters[V],indices:!1,serializeDate:function(i){return Y.call(i)},skipNulls:!1,strictNullHandling:!1},ee=function i(e,t,r,s,o,n,p,l,c,h,u,f,a,y){var m,d=e;if(typeof p=="function"?d=p(t,d):d instanceof Date?d=h(d):r==="comma"&&D(d)&&(d=S.maybeMap(d,function(q){return q instanceof Date?h(q):q})),d===null){if(s)return n&&!a?n(t,v.encoder,y,"key",u):t;d=""}if(typeof(m=d)=="string"||typeof m=="number"||typeof m=="boolean"||typeof m=="symbol"||typeof m=="bigint"||S.isBuffer(d)){if(n){var g=a?t:n(t,v.encoder,y,"key",u);if(r==="comma"&&a){for(var b=K.call(String(d),","),w="",$=0;$<b.length;++$)w+=($===0?"":",")+f(n(b[$],v.encoder,y,"value",u));return[f(g)+"="+w]}return[f(g)+"="+f(n(d,v.encoder,y,"value",u))]}return[f(t)+"="+f(String(d))]}var x,R=[];if(d===void 0)return R;if(r==="comma"&&D(d))x=[{value:d.length>0?d.join(",")||null:void 0}];else if(D(p))x=p;else{var U=Object.keys(d);x=l?U.sort(l):U}for(var C=0;C<x.length;++C){var P=x[C],H=typeof P=="object"&&P.value!==void 0?P.value:d[P];if(!o||H!==null){var _=D(d)?typeof r=="function"?r(t,P):t:t+(c?"."+P:"["+P+"]");Z(R,i(H,_,r,s,o,n,p,l,c,h,u,f,a,y))}}return R},Q=Object.prototype.hasOwnProperty,te=Array.isArray,N={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:S.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},re=function(i){return i.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},z=function(i,e){return i&&typeof i=="string"&&e.comma&&i.indexOf(",")>-1?i.split(","):i},ne=function(i,e,t,r){if(i){var s=t.allowDots?i.replace(/\.([^.[]+)/g,"[$1]"):i,o=/(\[[^[\]]*])/g,n=t.depth>0&&/(\[[^[\]]*])/.exec(s),p=n?s.slice(0,n.index):s,l=[];if(p){if(!t.plainObjects&&Q.call(Object.prototype,p)&&!t.allowPrototypes)return;l.push(p)}for(var c=0;t.depth>0&&(n=o.exec(s))!==null&&c<t.depth;){if(c+=1,!t.plainObjects&&Q.call(Object.prototype,n[1].slice(1,-1))&&!t.allowPrototypes)return;l.push(n[1])}return n&&l.push("["+s.slice(n.index)+"]"),(function(h,u,f,a){for(var y=a?u:z(u,f),m=h.length-1;m>=0;--m){var d,g=h[m];if(g==="[]"&&f.parseArrays)d=[].concat(y);else{d=f.plainObjects?Object.create(null):{};var b=g.charAt(0)==="["&&g.charAt(g.length-1)==="]"?g.slice(1,-1):g,w=parseInt(b,10);f.parseArrays||b!==""?!isNaN(w)&&g!==b&&String(w)===b&&w>=0&&f.parseArrays&&w<=f.arrayLimit?(d=[])[w]=y:b!=="__proto__"&&(d[b]=y):d={0:y}}y=d}return y})(l,e,t,r)}},ie=function(i,e){var t=(function(c){return N})();if(i===""||i==null)return t.plainObjects?Object.create(null):{};for(var r=typeof i=="string"?(function(c,h){var u,f={},a=(h.ignoreQueryPrefix?c.replace(/^\?/,""):c).split(h.delimiter,h.parameterLimit===1/0?void 0:h.parameterLimit),y=-1,m=h.charset;if(h.charsetSentinel)for(u=0;u<a.length;++u)a[u].indexOf("utf8=")===0&&(a[u]==="utf8=%E2%9C%93"?m="utf-8":a[u]==="utf8=%26%2310003%3B"&&(m="iso-8859-1"),y=u,u=a.length);for(u=0;u<a.length;++u)if(u!==y){var d,g,b=a[u],w=b.indexOf("]="),$=w===-1?b.indexOf("="):w+1;$===-1?(d=h.decoder(b,N.decoder,m,"key"),g=h.strictNullHandling?null:""):(d=h.decoder(b.slice(0,$),N.decoder,m,"key"),g=S.maybeMap(z(b.slice($+1),h),function(x){return h.decoder(x,N.decoder,m,"value")})),g&&h.interpretNumericEntities&&m==="iso-8859-1"&&(g=re(g)),b.indexOf("[]=")>-1&&(g=te(g)?[g]:g),f[d]=Q.call(f,d)?S.combine(f[d],g):g}return f})(i,t):i,s=t.plainObjects?Object.create(null):{},o=Object.keys(r),n=0;n<o.length;++n){var p=o[n],l=ne(p,r[p],t,typeof i=="string");s=S.merge(s,l,t)}return S.compact(s)};class I{constructor(e,t,r){var s,o;this.name=e,this.definition=t,this.bindings=(s=t.bindings)!=null?s:{},this.wheres=(o=t.wheres)!=null?o:{},this.config=r}get template(){const e=`${this.origin}/${this.definition.uri}`.replace(/\/+$/,"");return e===""?"/":e}get origin(){return this.config.absolute?this.definition.domain?`${this.config.url.match(/^\w+:\/\//)[0]}${this.definition.domain}${this.config.port?`:${this.config.port}`:""}`:this.config.url:""}get parameterSegments(){var e,t;return(e=(t=this.template.match(/{[^}?]+\??}/g))==null?void 0:t.map(r=>({name:r.replace(/{|\??}/g,""),required:!/\?}$/.test(r)})))!=null?e:[]}matchesUrl(e){var t;if(!this.definition.methods.includes("GET"))return!1;const r=this.template.replace(/[.*+$()[\]]/g,"\\$&").replace(/(\/?){([^}?]*)(\??)}/g,(p,l,c,h)=>{var u;const f=`(?<${c}>${((u=this.wheres[c])==null?void 0:u.replace(/(^\^)|(\$$)/g,""))||"[^/?]+"})`;return h?`(${l}${f})?`:`${l}${f}`}).replace(/^\w+:\/\//,""),[s,o]=e.replace(/^\w+:\/\//,"").split("?"),n=(t=new RegExp(`^${r}/?$`).exec(s))!=null?t:new RegExp(`^${r}/?$`).exec(decodeURI(s));if(n){for(const p in n.groups)n.groups[p]=typeof n.groups[p]=="string"?decodeURIComponent(n.groups[p]):n.groups[p];return{params:n.groups,query:ie(o)}}return!1}compile(e){return this.parameterSegments.length?this.template.replace(/{([^}?]+)(\??)}/g,(t,r,s)=>{var o,n;if(!s&&[null,void 0].includes(e[r]))throw new Error(`Ziggy error: '${r}' parameter is required for route '${this.name}'.`);if(this.wheres[r]&&!new RegExp(`^${s?`(${this.wheres[r]})?`:this.wheres[r]}$`).test((n=e[r])!=null?n:""))throw new Error(`Ziggy error: '${r}' parameter '${e[r]}' does not match required format '${this.wheres[r]}' for route '${this.name}'.`);return encodeURI((o=e[r])!=null?o:"").replace(/%7C/g,"|").replace(/%25/g,"%").replace(/\$/g,"%24")}).replace(this.config.absolute?/(\.[^/]+?)(\/\/)/:/(^)(\/\/)/,"$1/").replace(/\/+$/,""):this.template}}class oe extends String{constructor(e,t,r=!0,s){if(super(),this.t=s??(typeof Ziggy<"u"?Ziggy:globalThis==null?void 0:globalThis.Ziggy),this.t=j({},this.t,{absolute:r}),e){if(!this.t.routes[e])throw new Error(`Ziggy error: route '${e}' is not in the route list.`);this.i=new I(e,this.t.routes[e],this.t),this.u=this.l(t)}}toString(){const e=Object.keys(this.u).filter(t=>!this.i.parameterSegments.some(({name:r})=>r===t)).filter(t=>t!=="_query").reduce((t,r)=>j({},t,{[r]:this.u[r]}),{});return this.i.compile(this.u)+(function(t,r){var s,o=t,n=(function(a){if(!a)return v;if(a.encoder!=null&&typeof a.encoder!="function")throw new TypeError("Encoder has to be a function.");var y=a.charset||v.charset;if(a.charset!==void 0&&a.charset!=="utf-8"&&a.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var m=k.default;if(a.format!==void 0){if(!J.call(k.formatters,a.format))throw new TypeError("Unknown format option provided.");m=a.format}var d=k.formatters[m],g=v.filter;return(typeof a.filter=="function"||D(a.filter))&&(g=a.filter),{addQueryPrefix:typeof a.addQueryPrefix=="boolean"?a.addQueryPrefix:v.addQueryPrefix,allowDots:a.allowDots===void 0?v.allowDots:!!a.allowDots,charset:y,charsetSentinel:typeof a.charsetSentinel=="boolean"?a.charsetSentinel:v.charsetSentinel,delimiter:a.delimiter===void 0?v.delimiter:a.delimiter,encode:typeof a.encode=="boolean"?a.encode:v.encode,encoder:typeof a.encoder=="function"?a.encoder:v.encoder,encodeValuesOnly:typeof a.encodeValuesOnly=="boolean"?a.encodeValuesOnly:v.encodeValuesOnly,filter:g,format:m,formatter:d,serializeDate:typeof a.serializeDate=="function"?a.serializeDate:v.serializeDate,skipNulls:typeof a.skipNulls=="boolean"?a.skipNulls:v.skipNulls,sort:typeof a.sort=="function"?a.sort:null,strictNullHandling:typeof a.strictNullHandling=="boolean"?a.strictNullHandling:v.strictNullHandling}})(r);typeof n.filter=="function"?o=(0,n.filter)("",o):D(n.filter)&&(s=n.filter);var p=[];if(typeof o!="object"||o===null)return"";var l=B[r&&r.arrayFormat in B?r.arrayFormat:r&&"indices"in r?r.indices?"indices":"repeat":"indices"];s||(s=Object.keys(o)),n.sort&&s.sort(n.sort);for(var c=0;c<s.length;++c){var h=s[c];n.skipNulls&&o[h]===null||Z(p,ee(o[h],h,l,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset))}var u=p.join(n.delimiter),f=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(f+=n.charset==="iso-8859-1"?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),u.length>0?f+u:""})(j({},e,this.u._query),{addQueryPrefix:!0,arrayFormat:"indices",encodeValuesOnly:!0,skipNulls:!0,encoder:(t,r)=>typeof t=="boolean"?Number(t):r(t)})}p(e){e?this.t.absolute&&e.startsWith("/")&&(e=this.h().host+e):e=this.v();let t={};const[r,s]=Object.entries(this.t.routes).find(([o,n])=>t=new I(o,n,this.t).matchesUrl(e))||[void 0,void 0];return j({name:r},t,{route:s})}v(){const{host:e,pathname:t,search:r}=this.h();return(this.t.absolute?e+t:t.replace(this.t.url.replace(/^\w*:\/\/[^/]+/,""),"").replace(/^\/+/,"/"))+r}current(e,t){const{name:r,params:s,query:o,route:n}=this.p();if(!e)return r;const p=new RegExp(`^${e.replace(/\./g,"\\.").replace(/\*/g,".*")}$`).test(r);if([null,void 0].includes(t)||!p)return p;const l=new I(r,n,this.t);t=this.l(t,l);const c=j({},s,o);if(Object.values(t).every(u=>!u)&&!Object.values(c).some(u=>u!==void 0))return!0;const h=(u,f)=>Object.entries(u).every(([a,y])=>Array.isArray(y)&&Array.isArray(f[a])?y.every(m=>f[a].includes(m)):typeof y=="object"&&typeof f[a]=="object"&&y!==null&&f[a]!==null?h(y,f[a]):f[a]==y);return h(t,c)}h(){var e,t,r,s,o,n;const{host:p="",pathname:l="",search:c=""}=typeof window<"u"?window.location:{};return{host:(e=(t=this.t.location)==null?void 0:t.host)!=null?e:p,pathname:(r=(s=this.t.location)==null?void 0:s.pathname)!=null?r:l,search:(o=(n=this.t.location)==null?void 0:n.search)!=null?o:c}}get params(){const{params:e,query:t}=this.p();return j({},e,t)}get routeParams(){return this.p().params}get queryParams(){return this.p().query}has(e){return this.t.routes.hasOwnProperty(e)}l(e={},t=this.i){e!=null||(e={}),e=["string","number"].includes(typeof e)?[e]:e;const r=t.parameterSegments.filter(({name:s})=>!this.t.defaults[s]);return Array.isArray(e)?e=e.reduce((s,o,n)=>j({},s,r[n]?{[r[n].name]:o}:typeof o=="object"?o:{[o]:""}),{}):r.length!==1||e[r[0].name]||!e.hasOwnProperty(Object.values(t.bindings)[0])&&!e.hasOwnProperty("id")||(e={[r[0].name]:e}),j({},this.m(t),this.j(e,t))}m(e){return e.parameterSegments.filter(({name:t})=>this.t.defaults[t]).reduce((t,{name:r},s)=>j({},t,{[r]:this.t.defaults[r]}),{})}j(e,{bindings:t,parameterSegments:r}){return Object.entries(e).reduce((s,[o,n])=>{if(!n||typeof n!="object"||Array.isArray(n)||!r.some(({name:p})=>p===o))return j({},s,{[o]:n});if(!n.hasOwnProperty(t[o])){if(!n.hasOwnProperty("id"))throw new Error(`Ziggy error: object passed as '${o}' parameter is missing route model binding key '${t[o]}'.`);t[o]="id"}return j({},s,{[o]:n[t[o]]})},{})}valueOf(){return this.toString()}}function ae(i,e,t,r){const s=new oe(i,e,t,r);return i?s.toString():s}function le(){const{tenant:i}=L().props,e=(c,h={})=>c.startsWith("http://")||c.startsWith("https://")?c:c.startsWith("/")?`/${i.slug}${c}`:ae(c,{...h,tenant:i.slug});return{get:(c,h={},u={})=>{const f=e(c,h);return A.get(f,{},u)},post:(c,h={},u={},f={})=>{const a=e(c,u);return A.post(a,h,f)},put:(c,h={},u={},f={})=>{const a=e(c,u);return A.put(a,h,f)},patch:(c,h={},u={},f={})=>{const a=e(c,u);return A.patch(a,h,f)},delete:(c,h={},u={})=>{const f=e(c,h);return A.delete(f,u)},visit:(c,h={},u={})=>{const f=e(c,h);return A.visit(f,u)},reload:(c={})=>A.reload(c),route:e,tenant:i}}export{le as u};
